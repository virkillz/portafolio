(function(){window.up={version:"0.56.6",renamedModule:function(t,e){return"function"==typeof Object.defineProperty?Object.defineProperty(up,t,{get:function(){return up.log.warn("up."+t+" has been renamed to up."+e),up[e]}}):void 0}}}).call(this),function(){var t=[].slice,e={}.hasOwnProperty,n=function(t,e){return function(){return t.apply(e,arguments)}};up.util=function(r){var o,i,u,s,a,l,p,c,f,h,d,m,v,g,y,b,w,k,T,S,E,C,x,P,F,$,A,D,O,M,R,q,U,j,z,N,L,_,H,I,K,Q,V,W,B,X,G,J,Y,Z,tt,et,nt,rt,ot,it,ut,st,at,lt,pt,ct,ft,ht,dt,mt,vt,gt,yt,bt,wt,kt,Tt,St,Et,Ct,xt,Pt,Ft,$t,At,Dt,Ot,Mt,Rt,qt,Ut,jt,zt,Nt,Lt,_t,Ht,It,Kt,Qt,Vt,Wt,Bt,Xt,Gt,Jt,Yt,Zt,te,ee,ne,re,oe,ie,ue,se,ae,le,pe,ce,fe,he,de,me,ve,ge,ye,be,we,ke,Te,Se,Ee,Ce,xe,Pe,Fe,$e,Ae,De,Oe,Me,Re,qe,Ue,je,ze,Ne,Le;return Vt=function(){},w=function(){return Promise.resolve()},jt=function(e){var n,r;return r=void 0,n=!1,function(){var o;return o=1<=arguments.length?t.call(arguments,0):[],n?r:(n=!0,r=e.apply(null,o))}},Et=function(t,e){return e=e.toString(),(""===e||"80"===e)&&"http:"===t||"443"===e&&"https:"===t},Xt=function(t,e){var n,r,o;return r=re(t),n=r.protocol+"//"+r.hostname,Et(r.protocol,r.port)||(n+=":"+r.port),o=r.pathname,"/"!==o[0]&&(o="/"+o),(null!=e?e.stripTrailingSlash:void 0)===!0&&(o=o.replace(/\/$/,"")),n+=o,(null!=e?e.search:void 0)!==!1&&(n+=r.search),(null!=e?e.hash:void 0)===!0&&(n+=r.hash),n},st=function(t){var e;return e=re(location.href),t=re(t),e.protocol!==t.protocol||e.host!==t.host},re=function(t){var e;return vt(t)&&(t=J(t)),t.pathname?t:(e=r("<a>").attr({href:t}).get(0),it(e.hostname)&&(e.href=e.href),e)},Wt=function(t){return t?t.toUpperCase():"GET"},Lt=function(t){return"GET"!==t&&"HEAD"!==t},o=function(t){var e,n,o,i,u,s,a,l,p,c,f,h,d,m,v,g;for(v=t.split(/[ >]/),o=null,c=f=0,d=v.length;f<d;c=++f){for(s=v[c],u=s.match(/(^|\.|\#)[A-Za-z0-9\-_]+/g),g="div",i=[],p=null,h=0,m=u.length;h<m;h++)switch(a=u[h],a[0]){case".":i.push(a.substr(1));break;case"#":p=a.substr(1);break;default:g=a}l="<"+g,i.length&&(l+=' class="'+i.join(" ")+'"'),p&&(l+=' id="'+p+'"'),l+=">",e=r(l),n&&e.appendTo(n),0===c&&(o=e),n=e}return o},i=function(t,e){var n;return null==e&&(e=document.body),n=o(t),n.addClass("up-placeholder"),n.appendTo(e),n},Ce=function(t){var e,n,o,i,u,s,a,l,p,c,f;if(e=r(t),p=void 0,c=e.prop("tagName").toLowerCase(),f=ue(e.attr("up-id")))p=k("up-id",f);else if(i=ue(e.attr("id")))p=i.match(/^[a-z0-9\-_]+$/i)?"#"+i:k("id",i);else if(l=ue(e.attr("name")))p=c+k("name",l);else if(o=ue(Qt(e)))for(p="",u=0,a=o.length;u<a;u++)s=o[u],p+="."+s;else p=(n=ue(e.attr("aria-label")))?k("aria-label",n):c;return p},k=function(t,e){return e=e.replace(/"/g,'\\"'),"["+t+'="'+e+'"]'},Qt=function(t){var e,n;return e=t.attr("class")||"",n=e.split(" "),Te(n,function(t){return Tt(t)&&!t.match(/^up-/)})},q=function(t){var e;return e=new DOMParser,e.parseFromString(t,"text/html")},b=function(){var n,r,o,i,u,s,a;for(s=arguments[0],u=2<=arguments.length?t.call(arguments,1):[],n=0,o=u.length;n<o;n++){i=u[n];for(r in i)e.call(i,r)&&(a=i[r],s[r]=a)}return s},y=Object.assign||b,Me=r.trim,Mt=function(t){return Ct(t)?function(e){return e[t]}:t},Rt=function(t,e){var n,r,o,i,u;if(0===t.length)return[];for(e=Mt(e),u=[],n=o=0,i=t.length;o<i;n=++o)r=t[n],u.push(e(r,n));return u},L=Rt,De=function(t,e){var n,r,o,i;for(i=[],n=r=0,o=t-1;0<=o?r<=o:r>=o;n=0<=o?++r:--r)i.push(e(n));return i},yt=function(t){return null===t},Pt=function(t){return void 0===t},at=function(t){return!Pt(t)},gt=function(t){return Pt(t)||yt(t)},mt=function(t){return!gt(t)},it=function(t){return!!gt(t)||!dt(t)&&(!(!wt(t)||0!==Object.keys(t).length)||0===t.length)},ue=function(t,e){return null==e&&(e=Tt),e(t)?t:void 0},Tt=function(t){return!it(t)},dt=function(t){return"function"==typeof t},Ct=function(t){return"string"==typeof t||t instanceof String},bt=function(t){return"number"==typeof t||t instanceof Number},kt=function(t){return!("object"!=typeof t||yt(t)||vt(t)||St(t)||ht(t)||ot(t))},wt=function(t){var e;return e=typeof t,"object"===e&&!yt(t)||"function"===e},pt=function(t){return!(!t||1!==t.nodeType)},vt=function(t){return t instanceof jQuery},St=function(t){return wt(t)&&dt(t.then)},ot=Array.isArray,ht=function(t){return t instanceof FormData},Oe=function(t){return Array.prototype.slice.call(t)},O=function(t){return ot(t)?t=t.slice():wt(t)&&!dt(t)?t=y({},t):up.fail("Cannot copy %o",t),t},J=function(t){return vt(t)?t.get(0):Ct(t)?r(t).get(0):t},zt=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],y.apply(null,[{}].concat(t.call(e)))},ne=function(t,e){var n,r,o,i;if(o=t?O(t):{},e)for(r in e)n=e[r],i=o[r],gt(i)&&(i=n),o[r]=i;return o},ee=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],z(e,mt)},z=function(t,e){var n,r,o,i;for(i=void 0,r=0,o=t.length;r<o;r++)if(n=t[r],e(n)){i=n;break}return i},m=function(t,e){var n,r,o,i,u;for(e=Mt(e),u=!1,r=o=0,i=t.length;o<i;r=++o)if(n=t[r],e(n,r)){u=!0;break}return u},h=function(t,e){var n,r,o,i,u;for(e=Mt(e),u=!0,r=o=0,i=t.length;o<i;r=++o)if(n=t[r],!e(n,r)){u=!1;break}return u},P=function(t){return Te(t,mt)},Re=function(t){return t.length<2?t:$e(g(t))},qe=function(t,e){var n;return t.length<2?t:(e=Mt(e),n=new Set,Te(t,function(t,r){var o;return o=e(t,r),!n.has(o)&&(n.add(o),!0)}))},$e=function(t){var e;return e=[],t.forEach(function(t){return e.push(t)}),e},g=function(t){var e;return e=new Set,t.forEach(function(t){return e.add(t)}),e},Te=function(t,e){var n;return e=Mt(e),n=[],L(t,function(t,r){if(e(t,r))return n.push(t)}),n},he=function(t,e){return e=Mt(e),Te(t,function(t,n){return!e(t,n)})},rt=function(t,e){return Te(t,function(t){return A(e,t)})},c=function(t,e){return C(t,e,"add")},ve=function(t,e){return C(t,e,"remove")},C=function(t,e,n){var r;return r=J(t).classList,ot(e)?L(e,function(t){return r[n](t)}):r[n](e)},f=function(t,e){return c(t,e),function(){return ve(t,e)}},Y=function(t,e){var n;return n=J(t).classList,n.contains(e)},se=function(){var e,n,r,o;return e=arguments[0],r=2<=arguments.length?t.call(arguments,1):[],o=function(){var t,o,i;for(i=[],t=0,o=r.length;t<o;t++)n=r[t],i.push(e.attr(n));return i}(),z(o,Tt)},Fe=function(t,e){return setTimeout(e,t)},Kt=function(t){return setTimeout(t,0)},_t=function(t){return Promise.resolve().then(t)},Ot=function(t){return t[t.length-1]},x=function(){var t;return t=document.documentElement,{width:t.clientWidth,height:t.clientHeight}},ke=jt(function(){var t,e,n;return t=r("<div>"),e=t.get(0),t.attr("up-viewport",""),Ne(e,{position:"absolute",top:"0",left:"0",width:"100px",height:"100px",overflowY:"scroll"}),t.appendTo(document.body),n=e.offsetWidth-e.clientWidth,t.remove(),n}),N=function(){var t,e,n,o,i,u;return e=document.body,t=r(e),u=document.documentElement,n=pe(t,"overflowY"),i="scroll"===n,o="hidden"===n,i||!o&&u.scrollHeight>u.clientHeight},Le=function(t,e,n){var o,i,u;return o=r(t),i=fe(o,Object.keys(e)),u=function(){return Ne(o,i)},Ne(o,e),n?(n(),u()):u},G=function(t){return t=J(t),t.offsetHeight},F=function(t){var e;return e=Le(t,{transition:"none"}),G(t),e},qt=function(t){var e;return e=J(t),{top:ce(e,"marginTop"),right:ce(e,"marginRight"),bottom:ce(e,"marginBottom"),left:ce(e,"marginLeft")}},Ut=function(t,e){var n,o,i,u,s,a;return e=ne(e,{relative:!1,inner:!1,includeMargin:!1}),e.relative?e.relative===!0?u=t.position():(n=r(e.relative),s=t.offset(),n.is(document)?u=s:(i=n.offset(),u={left:s.left-i.left,top:s.top-i.top})):u=t.offset(),o={left:u.left,top:u.top},e.inner?(o.width=t.width(),o.height=t.height()):(o.width=t.outerWidth(),o.height=t.outerHeight()),e.includeMargin&&(a=qt(t),o.left-=a.left,o.top-=a.top,o.height+=a.top+a.bottom,o.width+=a.left+a.right),o},M=function(t,e){var n,r,o,i,u;for(i=t.get(0).attributes,u=[],r=0,o=i.length;r<o;r++)n=i[r],n.specified?u.push(e.attr(n.name,n.value)):u.push(void 0);return u},Ee=function(t,e){var n;return n=r(),t.is(e)&&(n=n.add(t)),n=n.add(t.find(e))},Se=function(t,e){var n,r;return r=Ee(t,e),n=t.parents(e),r.add(n)},H=function(t){return 27===t.keyCode},A=function(t,e){return t.indexOf(e)>=0},E=function(t,e){var n;switch(n=t.attr(e)){case"false":return!1;case"true":case"":case e:return!0;default:return n}},Yt=function(){var e,n,r,o,i,u;for(o=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],e={},n=0,r=i.length;n<r;n++)u=i[n],u in o&&(e[u]=o[u]);return e},K=function(){var e,n,r,o,i,u;for(o=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],e=O(o),n=0,r=i.length;n<r;n++)u=i[n],delete e[u];return e},Ft=function(t){return!(t.metaKey||t.shiftKey||t.ctrlKey)},$t=function(t){var e;return e=Pt(t.button)||0===t.button,e&&Ft(t)},Ue=function(){return new Promise(Vt)},Gt=function(){return r()},Pe=function(t,e){var n,r,o;r=[];for(n in e)o=e[n],gt(t.attr(n))?r.push(t.attr(n,o)):r.push(void 0);return r},me=function(t,e){var n;if(n=t.indexOf(e),n>=0)return t.splice(n,1),e},I=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],dt(n)?n.apply(null,e):n},$=function(t){var e;return e=te(t),Object.preventExtensions(e),e},te=function(t){var e;return null==t&&(t={}),e={},e.reset=function(){var n;return n=t,dt(n)&&(n=n()),y(e,n)},e.reset(),e},je=function(t){var e,n;return t=J(t),e=t.parentNode,n=Oe(t.childNodes),L(n,function(n){return e.insertBefore(n,t)}),e.removeChild(t)},Jt=function(t){var e,n;for(e=void 0;(t=t.parent())&&t.length;)if(n=pe(t,"position"),"absolute"===n||"relative"===n||t.is("body")){e=t;break}return e},ft=function(t){var e,n;for(e=r(t);;){if(n=pe(e,"position"),"fixed"===n)return!0;if(e=e.parent(),0===e.length||e.is(document))return!1}},B=function(t,e){var n,o,i,u;return n=r(t),o=Jt(n),i=n.position(),u=o.offset(),Ne(n,{position:"absolute",left:i.left-u.left,top:i.top-u.top+e.scrollTop(),right:"",bottom:""})},ye=function(t){var e,n,r,o,i,u,s;if(ot(t),ht(t))return up.fail("Cannot convert FormData into an array");for(u=be(t),e=[],s=u.split("&"),n=0,r=s.length;n<r;n++)i=s[n],Tt(i)&&(o=i.split("="),e.push({name:decodeURIComponent(o[0]),value:decodeURIComponent(o[1])}));return e},be=function(t,e){var n;if(e=ne(e,{purpose:"url"}),Ct(t))return t.replace(/^\?/,"");if(ht(t))return up.fail("Cannot convert FormData into a query string");if(Tt(t)){switch(n=r.param(t),e.purpose){case"url":n=n.replace(/\+/g,"%20");break;case"form":n=n.replace(/\%20/g,"+");break;default:up.fail("Unknown purpose %o",e.purpose)}return n}return""},u=function(t){var e,n;return n="input[type=submit], button[type=submit], button:not([type])",e=r(document.activeElement),e.is(n)&&t.has(e)?e:t.find(n).first()},we=function(t){var e,n,o,i,s,a;return n=r(t),a=n.find("input[type=file]").length,e=u(n),o=e.attr("name"),i=e.val(),s=a?new FormData(n.get(0)):n.serializeArray(),Tt(o)&&v(s,o,i),s},v=function(t,e,n,r){var o;return t||(t=[]),ot(t)?t.push({name:e,value:n}):ht(t)?t.append(e,n):wt(t)?t[e]=n:Ct(t)&&(o=be([{name:e,value:n}],r),t=[t,o].join("&")),t},Nt=function(t,e){return L(ye(e),function(e){return t=v(t,e.name,e.value)}),t},W=function(){var e,n,r,o,i,u;throw e=1<=arguments.length?t.call(arguments,0):[],ot(e[0])?(r=e[0],u=e[1]||{}):(r=e,u={}),(o=up.log).error.apply(o,r),ze().then(function(){return up.toast.open(r,u)}),n=(i=up.browser).sprintf.apply(i,r),new Error(n)},p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},_=function(t){return t.replace(/[&<>"]/g,function(t){return p[t]})},ie=function(t,e){var n;return n=t[e],delete t[e],n},ge=function(t,e,n){return t[n]=ie(t,e)},oe=function(t,e){var n,o;return n=r(t),o=n.data(e),n.removeData(e),o},V=function(t){var e;return e=Ot(t),kt(e)?t.pop():{}},s=/[^\-\_]+?(?=[A-Z\-\_]|$)/g,D=function(t,e,n){var r;return r=t.match(s),r=Rt(r,n),r.join(e)},At=function(t){return D(t,"-",function(t){return t.toLowerCase()})},T=function(t){return D(t,"",function(t,e){return 0===e?t.toLowerCase():t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},Dt=function(t){return R(t,At)},S=function(t){return R(t,T)},R=function(t,e){var n,r,o;r={};for(n in t)o=t[n],n=e(n),r[n]=o;return r},Zt=function(t){return ce(t,"opacity")},ze=jt(function(){return r.isReady?Promise.resolve():new Promise(function(t){return r(t)})}),nt=function(t){return t},lt=function(t){return t=J(t),!r.contains(document.documentElement,t)},ae=function(e){var n,r;return n=It(),r=function(){var r,o;return r=1<=arguments.length?t.call(arguments,0):[],o=e.apply(null,r),n.resolve(o),o},r.promise=n.promise(),r},l=function(){function e(){this.asap=n(this.asap,this),this.poke=n(this.poke,this),this.allTasks=n(this.allTasks,this),this.promise=n(this.promise,this),this.reset=n(this.reset,this),this.reset()}return e.prototype.reset=function(){return this.queue=[],this.currentTask=void 0},e.prototype.promise=function(){var t;return t=Ot(this.allTasks()),(null!=t?t.promise:void 0)||Promise.resolve()},e.prototype.allTasks=function(){var t;return t=[],this.currentTask&&t.push(this.currentTask),t=t.concat(this.queue)},e.prototype.poke=function(){var t;if(!this.currentTask&&(this.currentTask=this.queue.shift()))return t=this.currentTask(),d(t,function(t){return function(){return t.currentTask=void 0,t.poke()}}(this))},e.prototype.asap=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],this.queue=Rt(e,ae),this.poke(),this.promise()},e}(),Ae=function(t){var e;return e=r(t),e.is("[type=checkbox], [type=radio]")&&!e.is(":checked")?void 0:e.val()},xe=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],function(){return Rt(e,function(t){return t()})}},le=function(t){var e,n;return n=void 0,e=new Promise(function(e){return n=Fe(t,e)}),e.cancel=function(){return clearTimeout(n)},e},et=function(t){var e,n,r,o;return e=Ut(t),r=x(),n=e.left+.5*e.width,o=.5*r.width,n<o?"left":"right"},j=function(t,e){var n;return n=r("<div></div>"),n.insertAfter(t),t.detach(),n.replaceWith(e),t},tt=function(t){return Ne(t,{display:"none"})},pe=function(t,e){var n;return t=J(t),n=window.getComputedStyle(t),Q(n,e)},ce=function(t,e){var n;return n=pe(t,e),mt(n)?parseFloat(n):void 0},fe=function(t,e){var n;return t=J(t),n=t.style,Q(n,e)},Q=function(e,n){return Ct(n)?e[n]:Yt.apply(null,[e].concat(t.call(n)))},Ne=function(t,e){var n,r,o,i;t=J(t),o=t.style,r=[];for(n in e)i=e[n],i=Bt(n,i),r.push(o[n]=i);return r},Bt=function(t,e){return gt(e)?e="":a.has(t)&&(e=U(e)),e},a=g(["top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","width","height","maxWidth","maxHeight","minWidth","minHeight"]),U=function(t){return bt(t)||Ct(t)&&/^\d+$/.test(t)?t.toString()+"px":t},Z=function(t){var e,n,r,o,i;return kt(t)?i=t:(n=J(n),i=getComputedStyle(n)),o=i.transitionProperty,e=i.transitionDuration,r="none"===o||"all"===o&&0===e,!r},X=function(t){var e,n,r,o;for(e=[],n=0,r=t.length;n<r;n++)o=t[n],ot(o)?e=e.concat(o):e.push(o);return e},xt=function(t){return!!t},d=function(t,e){return t.then(e,e)},Ht=function(t){return null!=t?t["catch"](Vt):void 0},It=function(){var t,e,n;return n=void 0,e=void 0,t=new Promise(function(t,r){return n=t,e=r}),t.resolve=n,t.reject=e,t.promise=function(){return t},t},de=function(t){var e;try{return t()}catch(t){return e=t,Promise.reject(e)}},ut=function(t){return r(t).parents("body").length>0},ct=function(t,e){return typeof t==typeof e&&(ot(t)?t.length===e.length&&h(t,function(t,n){return ct(t,e[n])}):wt(t)?W("isEqual cannot compare objects yet"):t===e)},{requestDataAsArray:ye,requestDataAsQuery:be,appendRequestData:v,mergeRequestData:Nt,requestDataFromForm:we,offsetParent:Jt,fixedToAbsolute:B,isFixed:ft,presentAttr:se,parseUrl:re,normalizeUrl:Xt,normalizeMethod:Wt,methodAllowsPayload:Lt,createElementFromHtml:q,$createElementFromSelector:o,$createPlaceholder:i,selectorForElement:Ce,assign:y,assignPolyfill:b,copy:O,merge:zt,options:ne,option:ee,fail:W,each:L,map:Rt,times:De,any:m,all:h,detect:z,select:Te,reject:he,intersect:rt,compact:P,uniq:Re,uniqBy:qe,last:Ot,isNull:yt,isDefined:at,isUndefined:Pt,isGiven:mt,isMissing:gt,isPresent:Tt,isBlank:it,presence:ue,isObject:wt,isFunction:dt,isString:Ct,isNumber:bt,isElement:pt,isJQuery:vt,isPromise:St,isOptions:kt,isArray:ot,isFormData:ht,isUnmodifiedKeyEvent:Ft,isUnmodifiedMouseEvent:$t,nullJQuery:Gt,element:J,setTimer:Fe,nextFrame:Kt,measure:Ut,addClass:c,removeClass:ve,hasClass:Y,addTemporaryClass:f,writeTemporaryStyle:Le,forceRepaint:G,concludeCssTransition:F,escapePressed:H,copyAttributes:M,selectInSubtree:Ee,selectInDynasty:Se,contains:A,toArray:Oe,castedAttr:E,clientSize:x,only:Yt,except:K,trim:Me,unresolvablePromise:Ue,setMissingAttrs:Pe,remove:me,memoize:jt,scrollbarWidth:ke,documentHasVerticalScrollbar:N,config:$,openConfig:te,unwrapElement:je,camelCase:T,camelCaseKeys:S,kebabCase:At,kebabCaseKeys:Dt,error:W,pluckData:oe,pluckKey:ie,renameKey:ge,extractOptions:V,isDetached:lt,noop:Vt,asyncNoop:w,opacity:Zt,whenReady:ze,identity:nt,escapeHtml:_,DivertibleChain:l,submittedValue:Ae,sequence:xe,promiseTimer:le,previewable:ae,evalOption:I,horizontalScreenHalf:et,detachWith:j,flatten:X,isTruthy:xt,newDeferred:It,always:d,muteRejection:Ht,rejectOnError:de,isBodyDescendant:ut,isCrossDomain:st,microtask:_t,isEqual:ct,hide:tt,cssLength:U,readComputedStyle:pe,readComputedStyleNumber:ce,readInlineStyle:fe,writeInlineStyle:Ne,hasCssTransition:Z}}(jQuery),up.fail=up.util.fail}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].slice;t=up.util,up.Cache=function(){function r(t){this.config=null!=t?t:{},this.get=e(this.get,this),this.isFresh=e(this.isFresh,this),this.remove=e(this.remove,this),this.set=e(this.set,this),this.timestamp=e(this.timestamp,this),this.alias=e(this.alias,this),this.makeRoomForAnotherKey=e(this.makeRoomForAnotherKey,this),this.keys=e(this.keys,this),this.log=e(this.log,this),this.clear=e(this.clear,this),this.isCachable=e(this.isCachable,this),this.isEnabled=e(this.isEnabled,this),this.normalizeStoreKey=e(this.normalizeStoreKey,this),this.expiryMillis=e(this.expiryMillis,this),this.maxKeys=e(this.maxKeys,this),this.store={}}return r.prototype.maxKeys=function(){return t.evalOption(this.config.size)},r.prototype.expiryMillis=function(){return t.evalOption(this.config.expiry)},r.prototype.normalizeStoreKey=function(t){return this.config.key?this.config.key(t):this.key.toString()},r.prototype.isEnabled=function(){return 0!==this.maxKeys()&&0!==this.expiryMillis()},r.prototype.isCachable=function(t){return!this.config.cachable||this.config.cachable(t)},r.prototype.clear=function(){return this.store={}},r.prototype.log=function(){var t;if(t=1<=arguments.length?n.call(arguments,0):[],this.config.logPrefix)return t[0]="["+this.config.logPrefix+"] "+t[0],up.puts.apply(up,t)},r.prototype.keys=function(){return Object.keys(this.store)},r.prototype.makeRoomForAnotherKey=function(){var e,n,r,o;if(o=t.copy(this.keys()),e=this.maxKeys(),e&&o.length>=e&&(n=null,r=null,t.each(o,function(t){return function(e){var o,i;if(o=t.store[e],i=o.timestamp,!r||r>i)return n=e,r=i}}(this)),n))return delete this.store[n]},r.prototype.alias=function(e,n){var r;if(r=this.get(e,{silent:!0}),t.isDefined(r))return this.set(n,r)},r.prototype.timestamp=function(){return(new Date).valueOf()},r.prototype.set=function(t,e){var n;if(this.isEnabled()&&this.isCachable(t))return this.makeRoomForAnotherKey(),n=this.normalizeStoreKey(t),this.log("Setting entry %o to %o",n,e),this.store[n]={timestamp:this.timestamp(),value:e}},r.prototype.remove=function(t){var e;if(this.isCachable(t))return e=this.normalizeStoreKey(t),delete this.store[e]},r.prototype.isFresh=function(t){var e,n;return e=this.expiryMillis(),!e||(n=this.timestamp()-t.timestamp,n<e)},r.prototype.get=function(t,e){var n;return null==e&&(e={}),this.isCachable(t)&&(n=this.store[this.normalizeStoreKey(t)])?this.isFresh(n)?(e.silent||this.log("Cache hit for '%s'",t),n.value):(e.silent||this.log("Discarding stale cache entry for '%s'",t),void this.remove(t)):void(e.silent||this.log("Cache miss for '%s'",t))},r}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=up.util,up.CssTransition=function(){function n(n,r,o){this.startMotion=e(this.startMotion,this),this.resumeOldTransition=e(this.resumeOldTransition,this),this.pauseOldTransition=e(this.pauseOldTransition,this),this.finish=e(this.finish,this),this.onTransitionEnd=e(this.onTransitionEnd,this),this.stopListenToTransitionEnd=e(this.stopListenToTransitionEnd,this),this.listenToTransitionEnd=e(this.listenToTransitionEnd,this),this.stopFallbackTimer=e(this.stopFallbackTimer,this),this.startFallbackTimer=e(this.startFallbackTimer,this),this.onFinishEvent=e(this.onFinishEvent,this),this.stopListenToFinishEvent=e(this.stopListenToFinishEvent,this),this.listenToFinishEvent=e(this.listenToFinishEvent,this),this.start=e(this.start,this),this.$element=n,this.element=t.element(n),this.lastFrameCamel=t.camelCaseKeys(r),this.lastFrameKebab=t.kebabCaseKeys(r),this.lastFrameKeysKebab=Object.keys(this.lastFrameKebab),this.finishEvent=o.finishEvent,this.duration=o.duration,this.delay=o.delay,this.totalDuration=this.delay+this.duration,this.easing=o.easing,this.finished=!1}return n.prototype.start=function(){return 0===this.lastFrameKeysKebab.length?(this.finished=!0,Promise.resolve()):(this.deferred=t.newDeferred(),this.pauseOldTransition(),this.startTime=new Date,this.startFallbackTimer(),this.listenToFinishEvent(),this.listenToTransitionEnd(),this.startMotion(),this.deferred.promise())},n.prototype.listenToFinishEvent=function(){if(this.finishEvent)return this.$element.on(this.finishEvent,this.onFinishEvent)},n.prototype.stopListenToFinishEvent=function(){if(this.finishEvent)return this.$element.off(this.finishEvent,this.onFinishEvent)},n.prototype.onFinishEvent=function(t){return t.stopPropagation(),this.finish()},n.prototype.startFallbackTimer=function(){var e;return e=100,this.fallbackTimer=t.setTimer(this.totalDuration+e,function(t){return function(){return t.finish()}}(this))},n.prototype.stopFallbackTimer=function(){return clearTimeout(this.fallbackTimer)},n.prototype.listenToTransitionEnd=function(){return this.$element.on("transitionend",this.onTransitionEnd)},n.prototype.stopListenToTransitionEnd=function(){return this.$element.off("transitionend",this.onTransitionEnd)},n.prototype.onTransitionEnd=function(e){var n,r;if(e.target===this.element&&(r=new Date-this.startTime,r>.25*this.totalDuration&&(n=e.originalEvent.propertyName,t.contains(this.lastFrameKeysKebab,n))))return this.finish()},n.prototype.finish=function(){if(!this.finished)return this.finished=!0,this.stopFallbackTimer(),this.stopListenToFinishEvent(),this.stopListenToTransitionEnd(),t.concludeCssTransition(this.element),this.resumeOldTransition(),this.deferred.resolve()},n.prototype.pauseOldTransition=function(){var e,n,r,o;if(e=t.readComputedStyle(this.element,["transitionProperty","transitionDuration","transitionDelay","transitionTimingFunction"]),t.hasCssTransition(e))return"all"!==e.transitionProperty&&(o=e.transitionProperty.split(/\s*,\s*/),r=t.readComputedStyle(this.element,o),n=t.camelCaseKeys(r),this.setOldTransitionTargetFrame=t.writeTemporaryStyle(this.element,n)),this.setOldTransition=t.concludeCssTransition(this.element)},n.prototype.resumeOldTransition=function(){return"function"==typeof this.setOldTransitionTargetFrame&&this.setOldTransitionTargetFrame(),"function"==typeof this.setOldTransition?this.setOldTransition():void 0},n.prototype.startMotion=function(){return t.writeInlineStyle(this.element,{transitionProperty:Object.keys(this.lastFrameKebab).join(", "),transitionDuration:this.duration+"ms",transitionDelay:this.delay+"ms",transitionTimingFunction:this.easing}),t.writeInlineStyle(this.element,this.lastFrameCamel)},n}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=up.util,up.ExtractCascade=function(){function n(n,r){this.oldPlanNotFound=e(this.oldPlanNotFound,this),this.matchingPlanNotFound=e(this.matchingPlanNotFound,this),this.bestMatchingSteps=e(this.bestMatchingSteps,this),this.bestPreflightSelector=e(this.bestPreflightSelector,this),this.detectPlan=e(this.detectPlan,this),this.matchingPlan=e(this.matchingPlan,this),this.newPlan=e(this.newPlan,this),this.oldPlan=e(this.oldPlan,this),this.options=t.options(r,{humanizedTarget:"selector",layer:"auto"}),this.options.transition=t.option(this.options.transition,this.options.animation),this.options.hungry=t.option(this.options.hungry,!0),this.candidates=this.buildCandidates(n),this.plans=t.map(this.candidates,function(e){return function(n,r){var o;return o=t.copy(e.options),r>0&&(o.transition=t.option(up.dom.config.fallbackTransition,e.options.transition)),new up.ExtractPlan(n,o)}}(this))}return n.prototype.buildCandidates=function(e){var n;return n=[e,this.options.fallback,up.dom.config.fallbacks],n=t.flatten(n),n=t.select(n,t.isTruthy),n=t.uniq(n),(this.options.fallback===!1||this.options.provideTarget)&&(n=[n[0]]),n},n.prototype.oldPlan=function(){return this.detectPlan("oldExists")},n.prototype.newPlan=function(){return this.detectPlan("newExists")},n.prototype.matchingPlan=function(){return this.detectPlan("matchExists")},n.prototype.detectPlan=function(e){return t.detect(this.plans,function(t){return t[e]()})},n.prototype.bestPreflightSelector=function(){var t;return t=this.options.provideTarget?this.plans[0]:this.oldPlan(),t?(t.resolveNesting(),t.selector()):this.oldPlanNotFound()},n.prototype.bestMatchingSteps=function(){var t;return(t=this.matchingPlan())?(t.addHungrySteps(),t.resolveNesting(),t.steps):this.matchingPlanNotFound()},n.prototype.matchingPlanNotFound=function(){var t,e;return this.newPlan()?this.oldPlanNotFound():(e=this.oldPlan()?"Could not find "+this.options.humanizedTarget+" in response":"Could not match "+this.options.humanizedTarget+" in current page and response",this.options.inspectResponse&&(t={label:"Open response",callback:this.options.inspectResponse}),up.fail([e+" (tried %o)",this.candidates],{action:t}))},n.prototype.oldPlanNotFound=function(){var t;return t=this.options.layer,"auto"===t&&(t="page, modal or popup"),up.fail("Could not find "+this.options.humanizedTarget+" in current "+t+" (tried %o)",this.candidates)},n}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=up.util,up.ExtractPlan=function(){function n(t,n){this.addHungrySteps=e(this.addHungrySteps,this),this.parseSteps=e(this.parseSteps,this),this.selector=e(this.selector,this),this.resolveNesting=e(this.resolveNesting,this),this.addSteps=e(this.addSteps,this),this.matchExists=e(this.matchExists,this),this.newExists=e(this.newExists,this),this.oldExists=e(this.oldExists,this),this.findNew=e(this.findNew,this),this.findOld=e(this.findOld,this);var r;this.reveal=n.reveal,this.origin=n.origin,this.hungry=n.hungry,this.transition=n.transition,this.response=n.response,this.oldLayer=n.layer,r=up.dom.resolveSelector(t,this.origin),this.parseSteps(r)}return n.prototype.findOld=function(){return t.each(this.steps,function(t){return function(e){return e.$old=up.dom.first(e.selector,{layer:t.oldLayer})}}(this))},n.prototype.findNew=function(){return t.each(this.steps,function(t){return function(e){return e.$new=t.response.first(e.selector)}}(this))},n.prototype.oldExists=function(){return this.findOld(),t.all(this.steps,function(t){return t.$old})},n.prototype.newExists=function(){return this.findNew(),t.all(this.steps,function(t){return t.$new})},n.prototype.matchExists=function(){return this.oldExists()&&this.newExists()},n.prototype.addSteps=function(t){return this.steps=this.steps.concat(t)},n.prototype.resolveNesting=function(){var e;if(!(this.steps.length<2))return e=t.copy(this.steps),e=t.uniqBy(e,function(t){return t.$old[0]}),e=t.select(e,function(){return function(n,r){return t.all(e,function(t,e){var o,i;return e===r||(o=n.$old[0],i=t.$old[0],t.pseudoClass||!$.contains(i,o))})}}(this)),e[0].reveal=this.steps[0].reveal,this.steps=e},n.prototype.selector=function(){return t.map(this.steps,"expression").join(", ")},n.prototype.parseSteps=function(e){var n,r;return n=/\ *,\ */,this.steps=[],r=e.split(n),t.each(r,function(t){return function(e,n){var r,o,i,u;return o=e.match(/^(.+?)(?:\:(before|after))?$/),o||up.fail('Could not parse selector literal "%s"',e),u=o[1],"html"===u&&(u="body"),i=o[2],r=0===n&&t.reveal,t.steps.push({expression:e,selector:u,pseudoClass:i,transition:t.transition,origin:t.origin,reveal:r})}}(this))},n.prototype.addHungrySteps=function(){var e,n,r,o,i,u,s,a,l;if(i=[],this.hungry)for(e=$(up.radio.hungrySelector()),l=t.option(up.radio.config.hungryTransition,this.transition),u=0,s=e.length;u<s;u++)o=e[u],n=$(o),a=t.selectorForElement(n),(r=this.response.first(a))&&i.push({selector:a,$old:n,$new:r,transition:l,reveal:!1,origin:null});return this.addSteps(i)},n}()}.call(this),function(){var t;t=up.util,up.ExtractStep=function(){function t(){}return t}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=up.util,up.FieldObserver=function(){function n(t,n){this.$field=t,this.check=e(this.check,this),this.readFieldValue=e(this.readFieldValue,this),this.requestCallback=e(this.requestCallback,this),this.isNewValue=e(this.isNewValue,this),this.scheduleTimer=e(this.scheduleTimer,this),this.cancelTimer=e(this.cancelTimer,this),this.stop=e(this.stop,this),this.start=e(this.start,this),this.delay=n.delay,this.callback=n.callback}var r;return r="input change",n.prototype.start=function(){return this.scheduledValue=null,this.processedValue=this.readFieldValue(),this.currentTimer=void 0,this.currentCallback=void 0,this.$field.on(r,this.check)},n.prototype.stop=function(){return this.$field.off(r,this.check),this.cancelTimer()},n.prototype.cancelTimer=function(){return clearTimeout(this.currentTimer),this.currentTimer=void 0},n.prototype.scheduleTimer=function(){return this.currentTimer=t.setTimer(this.delay,function(t){return function(){return t.currentTimer=void 0,t.requestCallback()}}(this))},n.prototype.isNewValue=function(t){return t!==this.processedValue&&(null===this.scheduledValue||this.scheduledValue!==t)},n.prototype.requestCallback=function(){var e;if(null!==this.scheduledValue&&!this.currentTimer&&!this.currentCallback)return this.processedValue=this.scheduledValue,this.scheduledValue=null,this.currentCallback=function(t){return function(){return t.callback.call(t.$field.get(0),t.processedValue,t.$field)}}(this),e=Promise.resolve(this.currentCallback()),t.always(e,function(t){return function(){return t.currentCallback=void 0,t.requestCallback()}}(this))},n.prototype.readFieldValue=function(){return t.submittedValue(this.$field)},n.prototype.check=function(){var t;if(t=this.readFieldValue(),this.isNewValue(t))return this.scheduledValue=t,this.cancelTimer(),this.scheduleTimer()},n}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].slice;t=up.util,up.FollowVariant=function(){function r(t,n){this.matchesLink=e(this.matchesLink,this),this.preloadLink=e(this.preloadLink,this),this.followLink=e(this.followLink,this),this.fullSelector=e(this.fullSelector,this),this.onMousedown=e(this.onMousedown,this),this.onClick=e(this.onClick,this),this.followNow=n.follow,this.preloadNow=n.preload,this.selectors=t.split(/\s*,\s*/)}return r.prototype.onClick=function(t,e){return up.link.shouldProcessEvent(t,e)?e.is("[up-instant]")?up.bus.haltEvent(t):(up.bus.consumeAction(t),this.followLink(e)):up.link.allowDefault(t)},r.prototype.onMousedown=function(t,e){if(up.link.shouldProcessEvent(t,e))return up.bus.consumeAction(t),this.followLink(e)},r.prototype.fullSelector=function(t){var e;return null==t&&(t=""),e=[],this.selectors.forEach(function(n){return["a","[up-href]"].forEach(function(r){return e.push(""+r+n+t)})}),e.join(", ")},r.prototype.registerEvents=function(){return up.on("click",this.fullSelector(),function(e){return function(){var r;return r=1<=arguments.length?n.call(arguments,0):[],t.muteRejection(e.onClick.apply(e,r))}}(this)),up.on("mousedown",this.fullSelector("[up-instant]"),function(e){return function(){var r;return r=1<=arguments.length?n.call(arguments,0):[],t.muteRejection(e.onMousedown.apply(e,r))}}(this))},r.prototype.followLink=function(t,e){return null==e&&(e={}),up.bus.whenEmitted("up:link:follow",{$element:t}).then(function(n){return function(){return up.feedback.start(t,e,function(){return n.followNow(t,e)})}}(this))},r.prototype.preloadLink=function(t,e){return null==e&&(e={}),this.preloadNow(t,e)},r.prototype.matchesLink=function(t){return t.is(this.fullSelector())},r}()}.call(this),function(){var t;t=up.util,up.HtmlParser=function(){function e(e){this.html=e,this.wrapNoscriptInHtml(),this.parsedDoc=t.createElementFromHtml(this.html)}return e.prototype.title=function(){var t;return null!=(t=this.parsedDoc.querySelector("head title"))?t.textContent:void 0;
},e.prototype.first=function(t){var e;if(e=$.find(t,this.parsedDoc)[0])return $(e)},e.prototype.prepareForInsertion=function(t){var e;return e=t[0],this.unwrapNoscriptInElement(e),$(e)},e.prototype.wrapNoscriptInHtml=function(){var e;return e=/<noscript[^>]*>((.|\s)*?)<\/noscript>/gi,this.html=this.html.replace(e,function(e){return function(n,r){return e.didWrapNoscript=!0,'<div class="up-noscript" data-html="'+t.escapeHtml(r)+'"></div>'}}(this))},e.prototype.unwrapNoscriptInElement=function(t){var e,n,r,o,i,u,s;if(this.didWrapNoscript){for(s=t.querySelectorAll(".up-noscript"),o=[],e=0,n=s.length;e<n;e++)u=s[e],i=u.getAttribute("data-html"),r=document.createElement("noscript"),r.textContent=i,o.push(u.parentNode.replaceChild(r,u));return o}},e}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=up.util,up.MotionTracker=function(){function n(t){this.reset=e(this.reset,this),this.whileForwardingFinishEvent=e(this.whileForwardingFinishEvent,this),this.forwardFinishEvent=e(this.forwardFinishEvent,this),this.unmarkCluster=e(this.unmarkCluster,this),this.markCluster=e(this.markCluster,this),this.whenElementFinished=e(this.whenElementFinished,this),this.emitFinishEvent=e(this.emitFinishEvent,this),this.finishOneElement=e(this.finishOneElement,this),this.isActive=e(this.isActive,this),this.expandFinishRequest=e(this.expandFinishRequest,this),this.finish=e(this.finish,this),this.claim=e(this.claim,this),this.activeClass="up-"+t,this.dataKey="up-"+t+"-finished",this.selector="."+this.activeClass,this.finishEvent="up:"+t+":finish",this.finishCount=0,this.clusterCount=0}return n.prototype.claim=function(e,n,r){var o;return null==r&&(r={}),o=$(e),r.trackMotion=t.option(r.trackMotion,up.motion.isEnabled()),r.trackMotion===!1?t.microtask(n):(r.trackMotion=!1,this.finish(o).then(function(t){return function(){var e;return e=t.whileForwardingFinishEvent(o,n),e=e.then(function(){return t.unmarkCluster(o)}),t.markCluster(o,e),e}}(this)))},n.prototype.finish=function(e){var n,r;return this.finishCount++,0!==this.clusterCount&&up.motion.isEnabled()?(n=this.expandFinishRequest(e),r=t.map(n,this.finishOneElement),Promise.all(r)):Promise.resolve()},n.prototype.expandFinishRequest=function(e){return e?t.selectInDynasty($(e),this.selector):$(this.selector)},n.prototype.isActive=function(e){return t.hasClass(e,this.activeClass)},n.prototype.finishOneElement=function(t){var e;return e=$(t),this.emitFinishEvent(e),this.whenElementFinished(e)},n.prototype.emitFinishEvent=function(e,n){return null==n&&(n={}),n=t.merge({$element:e,message:!1},n),up.emit(this.finishEvent,n)},n.prototype.whenElementFinished=function(t){return t.data(this.dataKey)||Promise.resolve()},n.prototype.markCluster=function(t,e){return this.clusterCount++,t.addClass(this.activeClass),t.data(this.dataKey,e)},n.prototype.unmarkCluster=function(t){return this.clusterCount--,t.removeClass(this.activeClass),t.removeData(this.dataKey)},n.prototype.forwardFinishEvent=function(t,e,n){return this.start(t,function(r){return function(){var o;return o=function(){return e.trigger(r.finishEvent)},t.on(r.finishEvent,o),n.then(function(){return t.off(r.finishEvent,o)})}}(this))},n.prototype.whileForwardingFinishEvent=function(e,n){var r;return e.length<2?n():(r=function(n){return function(r){if(!r.forwarded)return t.each(e,function(t){var e;if(e=$(t),t!==r.target&&n.isActive(e))return n.emitFinishEvent(e,{forwarded:!0})})}}(this),e.on(this.finishEvent,r),n().then(function(t){return function(){return e.off(t.finishEvent,r)}}(this)))},n.prototype.reset=function(){return this.finish().then(function(t){return function(){return t.finishCount=0,t.clusterCount=0}}(this))},n}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].slice;t=up.util,up.Record=function(){function r(n){this.copy=e(this.copy,this),this.attributes=e(this.attributes,this),t.assign(this,this.attributes(n))}return r.prototype.fields=function(){throw"Return an array of property names"},r.prototype.attributes=function(e){return null==e&&(e=this),t.only.apply(t,[e].concat(n.call(this.fields())))},r.prototype.copy=function(e){var n;return null==e&&(e={}),n=t.merge(this.attributes(),e),new this.constructor(n)},r}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=up.util,up.Request=function(r){function o(t){this.cacheKey=e(this.cacheKey,this),this.isCachable=e(this.isCachable,this),this.buildResponse=e(this.buildResponse,this),this.isCrossDomain=e(this.isCrossDomain,this),this.csrfToken=e(this.csrfToken,this),this.navigate=e(this.navigate,this),this.send=e(this.send,this),this.isSafe=e(this.isSafe,this),this.transferSearchToData=e(this.transferSearchToData,this),this.transferDataToUrl=e(this.transferDataToUrl,this),this.extractHashFromUrl=e(this.extractHashFromUrl,this),this.normalize=e(this.normalize,this),o.__super__.constructor.call(this,t),this.normalize()}return n(o,r),o.prototype.fields=function(){return["method","url","data","target","failTarget","headers","timeout"]},o.prototype.normalize=function(){return this.method=t.normalizeMethod(this.method),this.headers||(this.headers={}),this.extractHashFromUrl(),t.methodAllowsPayload(this.method)?this.transferSearchToData():this.transferDataToUrl()},o.prototype.extractHashFromUrl=function(){var e;return e=t.parseUrl(this.url),this.hash=e.hash,this.url=t.normalizeUrl(e,{hash:!1})},o.prototype.transferDataToUrl=function(){var e,n;if(this.data&&!t.isFormData(this.data))return e=t.requestDataAsQuery(this.data),n=t.contains(this.url,"?")?"&":"?",this.url+=n+e,this.data=void 0},o.prototype.transferSearchToData=function(){var e,n;if(n=t.parseUrl(this.url),e=n.search)return this.data=t.mergeRequestData(this.data,e),this.url=t.normalizeUrl(n,{search:!1})},o.prototype.isSafe=function(){return up.proxy.isSafeMethod(this.method)},o.prototype.send=function(){return new Promise(function(e){return function(n,r){var o,i,u,s,a,l,p,c,f,h;l=new XMLHttpRequest,c=t.copy(e.headers),p=e.data,f=e.method,h=e.url,u=up.proxy.wrapMethod(f,p),f=u[0],p=u[1],t.isFormData(p)?delete c["Content-Type"]:t.isPresent(p)?(p=t.requestDataAsQuery(p,{purpose:"form"}),c["Content-Type"]="application/x-www-form-urlencoded"):p=null,e.target&&(c[up.protocol.config.targetHeader]=e.target),e.failTarget&&(c[up.protocol.config.failTargetHeader]=e.failTarget),e.isCrossDomain()||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest"),(o=e.csrfToken())&&(c[up.protocol.config.csrfHeader]=o),l.open(f,h);for(i in c)a=c[i],l.setRequestHeader(i,a);return s=function(){var t;return t=e.buildResponse(l),t.isSuccess()?n(t):r(t)},l.onload=s,l.onerror=s,l.ontimeout=s,e.timeout&&(l.timeout=e.timeout),l.send(p)}}(this))},o.prototype.navigate=function(){var e,n,r,o,i;return this.transferSearchToData(),e=$('<form class="up-page-loader"></form>'),n=function(t){return $('<input type="hidden">').attr(t).appendTo(e)},"GET"===this.method?i="GET":(n({name:up.protocol.config.methodParam,value:this.method}),i="POST"),e.attr({method:i,action:this.url}),(r=up.protocol.csrfParam())&&(o=this.csrfToken())&&n({name:r,value:o}),t.each(t.requestDataAsArray(this.data),n),e.hide().appendTo("body"),up.browser.submitForm(e)},o.prototype.csrfToken=function(){if(!this.isSafe()&&!this.isCrossDomain())return up.protocol.csrfToken()},o.prototype.isCrossDomain=function(){return t.isCrossDomain(this.url)},o.prototype.buildResponse=function(t){var e,n,r;return n={method:this.method,url:this.url,text:t.responseText,status:t.status,request:this,xhr:t},(r=up.protocol.locationFromXhr(t))&&(n.url=r,n.method=null!=(e=up.protocol.methodFromXhr(t))?e:"GET"),n.title=up.protocol.titleFromXhr(t),new up.Response(n)},o.prototype.isCachable=function(){return this.isSafe()&&!t.isFormData(this.data)},o.prototype.cacheKey=function(){return[this.url,this.method,t.requestDataAsQuery(this.data),this.target].join("|")},o.wrap=function(t){return t instanceof this?t:new this(t)},o}(up.Record)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=up.util,up.Response=function(r){function o(t){this.isFatalError=e(this.isFatalError,this),this.isError=e(this.isError,this),this.isSuccess=e(this.isSuccess,this),o.__super__.constructor.call(this,t)}return n(o,r),o.prototype.fields=function(){return["method","url","text","status","request","xhr","title"]},o.prototype.isSuccess=function(){return this.status&&this.status>=200&&this.status<=299},o.prototype.isError=function(){return!this.isSuccess()},o.prototype.isFatalError=function(){return this.isError()&&t.isBlank(this.text)},o}(up.Record)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=up.util,up.UrlSet=function(){function n(n,r){this.urls=n,null==r&&(r={}),this.isEqual=e(this.isEqual,this),this.matchesAny=e(this.matchesAny,this),this.doesMatchPrefix=e(this.doesMatchPrefix,this),this.doesMatchFully=e(this.doesMatchFully,this),this.matches=e(this.matches,this),this.normalizeUrl=r.normalizeUrl||t.normalizeUrl,this.urls=t.map(this.urls,this.normalizeUrl),this.urls=t.compact(this.urls)}return n.prototype.matches=function(t){return"*"===t.substr(-1)?this.doesMatchPrefix(t.slice(0,-1)):this.doesMatchFully(t)},n.prototype.doesMatchFully=function(e){return t.contains(this.urls,e)},n.prototype.doesMatchPrefix=function(e){return t.detect(this.urls,function(t){return 0===t.indexOf(e)})},n.prototype.matchesAny=function(e){return t.detect(e,this.matches)},n.prototype.isEqual=function(e){return t.isEqual(this.urls,null!=e?e.urls:void 0)},n}()}.call(this),function(){var t=[].slice;up.browser=function(e){var n,r,o,i,u,s,a,l,p,c,f,h,d,m,v,g,y,b,w,k,T,S,E,C,x;return E=up.util,m=function(t,e){var n;return null==e&&(e={}),n=new up.Request(E.merge(e,{url:t})),n.navigate()},S=function(t){return t.submit()},y=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],console[n].apply(console,e)},n=/\%[odisf]/g,T=function(t){var n,r,o,i,u,s,a,l,p;if(s=200,o="",E.isString(t))l=t.replace(/[\n\r\t ]+/g," "),l=l.replace(/^[\n\r\t ]+/,""),l=l.replace(/[\n\r\t ]$/,""),l='"'+l+'"',o='"';else if(E.isUndefined(t))l="undefined";else if(E.isNumber(t)||E.isFunction(t))l=t.toString();else if(E.isArray(t))l="["+E.map(t,T).join(", ")+"]",o="]";else if(E.isJQuery(t))l="$("+E.map(t,T).join(", ")+")",o=")";else if(E.isElement(t)){for(n=e(t),l="<"+t.tagName.toLowerCase(),a=["id","name","class"],i=0,u=a.length;i<u;i++)r=a[i],(p=n.attr(r))&&(l+=" "+r+'="'+p+'"');l+=">",o=">"}else l=JSON.stringify(t);return l.length>s&&(l=l.substr(0,s)+" \u2026",l+=o),l},w=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],k.apply(null,[E.identity,n].concat(t.call(e)))},k=function(){var e,r,o,i;return r=arguments[0],i=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],E.isBlank(i)?"":(o=0,i.replace(n,function(){var t;return t=e[o],t=r(T(t)),o+=1,t}))},C=function(){return location.href},f=E.memoize(function(){return!window.atob}),p=function(){return E.isDefined(history.pushState)&&"get"===up.protocol.initialRequestMethod()},o=E.memoize(function(){return"transition"in document.documentElement.style}),a=E.memoize(function(){return"oninput"in document.createElement("input")}),l=E.memoize(function(){return!!window.Promise}),s=E.memoize(function(){return!!window.FormData}),u=E.memoize(function(){return!!window.DOMParser}),r=E.memoize(function(){return window.console&&console.debug&&console.info&&console.warn&&console.error&&console.group&&console.groupCollapsed&&console.groupEnd}),i=E.memoize(function(){return!!window.customElements}),h=E.memoize(function(){var t,n,r,o;return o=e.fn.jquery,r=o.split("."),t=parseInt(r[0]),n=parseInt(r[1]),t>=2||1===t&&n>=9}),g=function(t){var e,n;return n=null!=(e=document.cookie.match(new RegExp(t+"=(\\w+)")))?e[1]:void 0,E.isPresent(n)&&(document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/"),n},x=function(t){return t.preload||E.isBlank(t.confirm)||window.confirm(t.confirm)?Promise.resolve():Promise.reject(new Error("User canceled action"))},d=function(){return!f()&&h()&&r()&&u()&&s()&&o()&&a()&&l()},b=E.memoize(function(){try{return window.sessionStorage}catch(t){return v()}}),v=function(){var t;return t={},{getItem:function(e){return t[e]},setItem:function(e,n){return t[e]=n}}},c=function(t){return t||(t=location.hash),t||(t=""),"#"===t[0]&&(t=t.substr(1)),E.presence(t)},{url:C,navigate:m,submitForm:S,canPushState:p,canCustomElements:i,whenConfirmed:x,isSupported:d,puts:y,sprintf:w,sprintfWithFormattedArgs:k,sessionStorage:b,popCookie:g,hash:c}}(jQuery)}.call(this),function(){var t=[].slice;up.bus=function(e){var n,r,o,i,u,s,a,l,p,c,f,h,d,m,v,g,y,b,w,k,T,S,E,C;return w=up.util,p={},f=0,g={},E=function(t){return function(n){var r;return r=n.$element||e(this),t.apply(r.get(0),[n,r,up.syntax.data(r)])}},S=function(t,e){var n,r,o;return n=w.copy(t),u(n),o=n.pop(),r=void 0,e?(r=E(o),o._asJqueryListener=r,o._descriptionNumber=++f):(r=o._asJqueryListener,r||up.fail("up.off(): The callback %o was never registered through up.on()",o)),n.push(r),n},u=function(t){var e;return e=t[0].split(/\s+/),e=w.map(e,function(t){var e;return(e=g[t])?(up.log.warn(t+" has been renamed to "+e),e):t}),t[0]=e.join(" ")},l=function(){var n,r,o;return o=1<=arguments.length?t.call(arguments,0):[],up.browser.isSupported()?(n=S(o,!0),m(o),(r=e(document)).on.apply(r,n),function(){return k.apply(null,o)}):function(){}},k=function(){var n,r,o;return o=1<=arguments.length?t.call(arguments,0):[],n=S(o,!1),s(o),(r=e(document)).off.apply(r,n)},m=function(t){var e;return e=T(t),p[e]=t},s=function(t){var e;return e=T(t),delete p[e]},T=function(t){return w.last(t)._descriptionNumber},o=function(t,n){var r,o;return null==n&&(n={}),o=e.Event(t,n),r=n.$target||n.$element||e(document),c(t,n),r.trigger(o),o},c=function(e,n){var r,o,i;return n.hasOwnProperty("message")?(r=n.message,delete n.message,r!==!1&&(w.isArray(r)?(i=r,r=i[0],o=2<=i.length?t.call(i,1):[]):o=[],r)?w.isPresent(n)?up.puts.apply(up,[r+" (%s (%o))"].concat(t.call(o),[e],[n])):up.puts.apply(up,[r+" (%s)"].concat(t.call(o),[e])):void 0):w.isPresent(n)?up.puts("Emitted event %s (%o)",e,n):up.puts("Emitted event %s",e)},h=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],n=o.apply(null,e),!n.isDefaultPrevented()},C=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],new Promise(function(t,n){return h.apply(null,e)?t():n(new Error("Event "+e[0]+" was prevented"))})},d=function(t){return l("keydown","body",function(e){if(w.escapePressed(e))return t(e)})},a=function(t){return t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault()},r=function(t){if(a(t),"up:action:consumed"!==t.type)return o("up:action:consumed",{$element:e(t.target),message:!1})},b=function(){var t,e,n;n=[];for(e in p)t=p[e],n.push(t.isDefault=!0);return n},y=function(){var t,e,n,r,o,i;e=[];for(o in p)t=p[o],t.isDefault||e.push(t);for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(k.apply(null,t));return i},i=function(){return o("up:framework:reset",{message:"Resetting framework"}),up.protocol.reset()},v=function(t,e){return g[t]=e},n=function(){return up.browser.isSupported()?(o("up:framework:boot",{message:"Booting framework"}),o("up:framework:booted",{message:"Framework booted"}),w.nextFrame(function(){return w.whenReady().then(function(){return o("up:app:boot",{message:"Booting user application"}),o("up:app:booted",{message:"User application booted"})})})):"function"==typeof console.log?console.log("Unpoly doesn't support this browser. Framework was not booted."):void 0},l("up:framework:booted",b),l("up:framework:reset",y),{on:l,off:k,emit:o,nobodyPrevents:h,whenEmitted:C,onEscape:d,emitReset:i,haltEvent:a,consumeAction:r,renamedEvent:v,boot:n}}(jQuery),up.on=up.bus.on,up.off=up.bus.off,up.emit=up.bus.emit,up.reset=up.bus.emitReset,up.boot=up.bus.boot}.call(this),function(){up.protocol=function(t){var e,n,r,o,i,u,s,a,l;return l=up.util,i=function(t){return t.getResponseHeader(e.locationHeader)||t.responseURL},a=function(t){return t.getResponseHeader(e.titleHeader)},u=function(t){var n;if(n=t.getResponseHeader(e.methodHeader))return l.normalizeMethod(n)},o=l.memoize(function(){var t;return t=up.browser.popCookie(e.methodCookie),(t||"get").toLowerCase()}),up.bus.on("up:framework:booted",o),e=l.config({targetHeader:"X-Up-Target",failTargetHeader:"X-Up-Fail-Target",locationHeader:"X-Up-Location",validateHeader:"X-Up-Validate",titleHeader:"X-Up-Title",methodHeader:"X-Up-Method",methodCookie:"_up_method",methodParam:"_method",csrfParam:function(){return t('meta[name="csrf-param"]').attr("content")},csrfToken:function(){return t('meta[name="csrf-token"]').attr("content")},csrfHeader:"X-CSRF-Token"}),n=function(){return l.evalOption(e.csrfParam)},r=function(){return l.evalOption(e.csrfToken)},s=function(){return e.reset()},{config:e,reset:s,locationFromXhr:i,titleFromXhr:a,methodFromXhr:u,csrfParam:n,csrfToken:r,initialRequestMethod:o}}(jQuery)}.call(this),function(){var t=[].slice;up.log=function(){var e,n,r,o,i,u,s,a,l,p,c,f,h,d,m;return d=up.util,n=up.browser,e="up.log.enabled",r=d.config({prefix:"[UP] ",enabled:"true"===n.sessionStorage().getItem(e),collapse:!1}),f=function(){return r.reset()},l=function(t){return""+r.prefix+t},o=function(){var e,o;if(o=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],r.enabled&&o)return n.puts.apply(n,["debug",l(o)].concat(t.call(e)))},c=function(){var e,o;if(o=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],r.enabled&&o)return n.puts.apply(n,["log",l(o)].concat(t.call(e)))},m=function(){var e,r;if(r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],r)return n.puts.apply(n,["warn",l(r)].concat(t.call(e)))},a=function(){var e,o,i,u;if(i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],o=e.pop(),!r.enabled||!i)return o();u=r.collapse?"groupCollapsed":"group",n.puts.apply(n,[u,l(i)].concat(t.call(e)));try{return o()}finally{i&&n.puts("groupEnd")}},s=function(){var e,r;if(r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],r)return n.puts.apply(n,["error",l(r)].concat(t.call(e)))},p=function(){var t;return t=" __ _____  ___  ___  / /_ __\n"+("/ // / _ \\/ _ \\/ _ \\/ / // /  "+up.version+"\n")+"\\___/_//_/ .__/\\___/_/\\_. / \n        / /            / /\n\n",t+=r.enabled?"Call `up.log.disable()` to disable logging for this session.":"Call `up.log.enable()` to enable logging for this session.",n.puts("log",t)},up.on("up:framework:boot",p),up.on("up:framework:reset",f),h=function(t){return n.sessionStorage().setItem(e,t.toString()),r.enabled=t},u=function(){return h(!0)},i=function(){return h(!1)},{puts:c,debug:o,error:s,warn:m,group:a,config:r,enable:u,disable:i}}(jQuery),up.puts=up.log.puts}.call(this),function(){var t=[].slice;up.toast=function(e){var n,r,o,i,u,s,a,l,p,c;return c=up.util,o=up.browser,n=function(t){return"<span class='up-toast-variable'>"+c.escapeHtml(t)+"</span>"},p=c.config({$toast:null}),l=function(){return i(),p.reset()},s=function(e){return c.isArray(e)?(e[0]=c.escapeHtml(e[0]),e=o.sprintfWithFormattedArgs.apply(o,[n].concat(t.call(e)))):e=c.escapeHtml(e),e},u=function(){return!!p.$toast},r=function(t,n,r){var o;return o=e('<span class="up-toast-action"></span>').text(n),o.on("click",r),o.appendTo(t)},a=function(t,n){var o,u,a,l;return null==n&&(n={}),i(),a=e('<div class="up-toast"></div>').prependTo("body"),u=e('<div class="up-toast-message"></div>').appendTo(a),o=e('<div class="up-toast-actions"></div>').appendTo(a),t=s(t),u.html(t),(l=n.action||n.inspect)&&r(o,l.label,l.callback),r(o,"Close",i),p.$toast=a},i=function(){if(u())return p.$toast.remove(),p.$toast=null},up.on("up:framework:reset",l),{open:a,close:i,reset:l,isOpen:u}}(jQuery)}.call(this),function(){var t=[].slice;up.syntax=function(e){var n,r,o,i,u,s,a,l,p,c,f,h,d,m,v,g,y,b,w,k;return k=up.util,n="up-destructible",r="up-destructors",o={"[up-back]":-100,"[up-drawer]":-200,"[up-dash]":-200,"[up-expand]":-300,"[data-method]":-400,"[data-confirm]":-400},m=!0,c=[],g=[],p=function(){var e,n,r,o;if(o=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],up.browser.isSupported())return n=e.pop(),r=k.options(e[0]),d(c,o,r,n)},v=function(){var e,n,r,o;if(o=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],up.browser.isSupported())return n=e.pop(),r=k.options(e[0]),m&&(r.priority=h(o)||up.fail("Unregistered priority for system macro %o",o)),d(g,o,r,n)},h=function(t){var e,n;for(n in o)if(e=o[n],t.indexOf(n)>=0)return e},s=function(t,e,n){return{selector:t,callback:n,isSystem:m,priority:e.priority||0,batch:e.batch,keep:e.keep}},d=function(t,e,n,r){var o,i,u;if(up.browser.isSupported()){for(i=s(e,n,r),o=0;(u=t[o])&&u.priority>=i.priority;)o+=1;return t.splice(o,0,i)}},u=function(t,e,n){var r,o;return up.puts(t.isSystem?void 0:"Compiling '%s' on %o",t.selector,n),t.keep&&(o=k.isString(t.keep)?t.keep:"",e.attr("up-keep",o)),r=t.callback.apply(n,[e,f(e)]),i(e,r)},y=function(t){return k.isFunction(t)?t:k.isArray(t)&&k.all(t,k.isFunction)?k.sequence.apply(k,t):void 0},i=function(t,e){var o;if(e=y(e))return t.addClass(n),o=t.data(r)||function(){return b(t)},o=k.sequence(o,e),t.data(r,o)},b=function(t){return t.removeData(r),t.removeClass(n)},l=function(t,n){var r;return n=k.options(n),r=e(n.skip),up.log.group("Compiling fragment %o",t.get(0),function(){var n,o,i,s,a,l;for(a=[g,c],l=[],o=0,i=a.length;o<i;o++)s=a[o],l.push(function(){var o,i,a;for(a=[],o=0,i=s.length;o<i;o++)p=s[o],n=k.selectInSubtree(t,p.selector),r.length&&(n=n.filter(function(){var t;return t=e(this),k.all(r,function(e){return 0===t.closest(e).length})})),n.length?a.push(up.log.group(p.isSystem?void 0:"Compiling '%s' on %d element(s)",p.selector,n.length,function(){return p.batch?u(p,n,n.get()):n.each(function(){return u(p,e(this),this)})})):a.push(void 0);return a}());return l})},a=function(t){var o;return o=k.selectInSubtree(t,"."+n),k.each(o,function(t){var n;if(n=e(t).data(r))return n()})},f=function(t){var n,r;return n=e(t),r=n.attr("up-data"),k.isString(r)&&""!==k.trim(r)?JSON.parse(r):{}},w=function(){var t;return t=function(t){return t.isSystem},c=k.select(c,t),g=k.select(g,t)},up.on("up:framework:booted",function(){return m=!1}),up.on("up:framework:reset",w),{compiler:p,macro:v,compile:l,clean:a,data:f}}(jQuery),up.compiler=up.syntax.compiler,up.macro=up.syntax.macro}.call(this),function(){up.history=function(t){var e,n,r,o,i,u,s,a,l,p,c,f,h,d,m,v;return v=up.util,n=v.config({enabled:!0,popTargets:["body"],restoreScroll:!0}),p=void 0,u=void 0,d=function(){return n.reset(),p=void 0,u=void 0},s=function(t,e){return e||(e={}),e.hash=!0,v.normalizeUrl(t,e)},r=function(t){return s(up.browser.url(),t)},o=function(t){var e;return e={stripTrailingSlash:!0},s(t,e)===r(e)},a=function(t){return u&&(p=u,u=void 0),u=t},h=function(t){if(i("replaceState",t))return up.emit("up:history:replaced",{url:t})},c=function(t,e){if(e=v.options(e,{force:!1}),t=s(t),(e.force||!o(t))&&up.bus.nobodyPrevents("up:history:push",{url:t,message:"Adding history entry for "+t}))return i("pushState",t)?up.emit("up:history:pushed",{url:t,message:"Advanced to location "+t}):up.emit("up:history:muted",{url:t,message:"Did not advance to "+t+" (history is unavailable)"})},i=function(t,o){var i;return!(!up.browser.canPushState()||!n.enabled)&&(i=e(),window.history[t](i,"",o),a(r()),!0)},e=function(){return{fromUp:!0}},m=function(t){var e,o,i;return(null!=t?t.fromUp:void 0)?(i=r(),up.emit("up:history:restore",{url:i,message:"Restoring location "+i}),e=n.popTargets.join(", "),o=up.replace(e,i,{history:!1,title:!0,reveal:!1,transition:"none",saveScroll:!1,restoreScroll:n.restoreScroll,layer:"page"}),o.then(function(){return i=r(),up.emit("up:history:restored",{url:i,message:"Restored location "+i})})):up.puts("Ignoring a state not pushed by Unpoly (%o)",t)},l=function(t){var e;return a(r()),up.layout.saveScroll({url:p}),e=t.originalEvent.state,m(e)},up.browser.canPushState()&&(f=function(){return t(window).on("popstate",l),h(r(),{force:!0})},"undefined"!=typeof jasmine&&null!==jasmine?f():setTimeout(f,100)),up.macro("a[up-back], [up-href][up-back]",function(t){if(v.isPresent(p))return v.setMissingAttrs(t,{"up-href":p,"up-restore-scroll":""}),t.removeAttr("up-back"),up.link.makeFollowable(t)}),up.on("up:framework:reset",d),{config:n,push:c,replace:h,url:r,isUrl:o,previousUrl:function(){return p},normalizeUrl:s}}(jQuery)}.call(this),function(){var t=[].slice;up.layout=function(e){var n,r,o,i,u,s,a,l,p,c,f,h,d,m,v,g,y,b,w,k,T,S,E,C,x,P,F;return E=up.util,o=E.config({duration:0,viewports:[".up-modal-viewport","[up-viewport]"],fixedTop:["[up-fixed~=top]"],fixedBottom:["[up-fixed~=bottom]"],anchoredRight:["[up-anchored~=right]","[up-fixed~=top]","[up-fixed~=bottom]","[up-fixed~=right]"],snap:50,substance:150,easing:"swing"}),a=new up.Cache({size:30,key:up.history.normalizeUrl}),S=new up.MotionTracker("scrolling"),p=function(){return o.reset(),a.clear(),S.reset()},g=function(t,e,n){var r;return r=T(t),n=E.options(n),n.duration=E.option(n.duration,o.duration),n.easing=E.option(n.easing,o.easing),i(r).then(function(){return up.motion.isEnabled()&&n.duration>0?k(r,e,n):y(r,e)})},T=function(t){var n;return n=e(t),n.get(0)===document?e("html, body"):n},k=function(t,e,n){var r;return r=function(){var r,o;return r=function(){return t.finish()},t.on(S.eventName,r),o=t.animate({scrollTop:e},n).promise(),o.then(function(){return t.off(S.eventName)}),o},S.claim(t,r)},y=function(t,e){return t.scrollTop(e),Promise.resolve()},i=function(t){var e;return up.motion.isEnabled()?(e=T(t),S.finish(e)):Promise.resolve()},r=function(){var t;return t=o.anchoredRight.join(","),e(t)},l=function(){var n,r,i,u;return i=function(t,n){var r,o;return r=e(t),o=E.readComputedStyleNumber(r,n),E.isPresent(o)||up.fail("Fixed element %o must have a CSS attribute %s",r.get(0),n),o+r.height()},r=function(){var t,n,r,s;for(r=e(o.fixedTop.join(", ")),s=[],t=0,n=r.length;t<n;t++)u=r[t],s.push(i(u,"top"));return s}(),n=function(){var t,n,r,s;for(r=e(o.fixedBottom.join(", ")),s=[],t=0,n=r.length;t<n;t++)u=r[t],s.push(i(u,"bottom"));return s}(),{top:Math.max.apply(Math,[0].concat(t.call(r))),bottom:Math.max.apply(Math,[0].concat(t.call(n)))}},f=function(t,n){var r;return r=e(t).first(),up.puts("Revealing fragment %o",r.get(0)),n=E.options(n),E.rejectOnError(function(){var t,i,u,s,a,p,c,f,h,d,m,v,y;return t=n.viewport?e(n.viewport):C(r),m=E.option(n.snap,o.snap),y=t.is(document),v=y?E.clientSize().height:t.outerHeight(),f=t.scrollTop(),a=f,c=void 0,p=void 0,y?(p=l(),c=0):(p={top:0,bottom:0},c=f),h=function(){return a+p.top},d=function(){return a+v-p.bottom-1},i=E.measure(r,{relative:t,includeMargin:!0}),u=i.top+c,s=u+Math.min(i.height,o.substance)-1,s>d()&&(a+=s-d()),(u<h()||n.top)&&(a=u-p.top),a<m&&i.top<.5*v&&(a=0),a!==f?g(t,a,n):Promise.resolve()})},h=function(){var t,e;return(e=up.browser.hash())&&(t=u(e))?f(t):Promise.resolve()},x=function(){return o.viewports.join(",")},C=function(t,n){var r,o;return null==n&&(n={}),r=e(t),o=r.closest(x()),0===o.length&&(o=e(document)),o},F=function(t){var n;return n=e(t),E.selectInSubtree(n,x())},P=function(){return e(document).add(x())},b=function(t){var n;return n=e(t),n.is(document)?"document":E.selectorForElement(n)},w=function(){var t,n,r,i,u;for(u={},i=o.viewports,n=0,r=i.length;n<r;n++)t=i[n],e(t).each(function(){var t,n,r;return t=e(this),n=b(t),r=t.scrollTop(),u[n]=r});return u},s=function(t){var n,r;return null==t&&(t=void 0),t||(t=document.body),r=e(t),n=r.find("[up-fixed]"),E.isPresent(o.fixedTop)&&(n=n.add(r.find(o.fixedTop.join(", ")))),E.isPresent(o.fixedBottom)&&(n=n.add(r.find(o.fixedBottom.join(", ")))),n},v=function(t){var e,n;return null==t&&(t={}),n=E.option(t.url,up.history.url()),e=E.option(t.tops,w()),a.set(n,e)},c=function(t){var e,n,r,o,i;return null==t&&(t={}),i=up.history.url(),r=void 0,t.around?(n=F(t.around),e=C(t.around),r=e.add(n)):r=P(),o=a.get(i)||{},up.log.group("Restoring scroll positions for URL %s to %o",i,o,function(){var t;return t=E.map(r,function(t){var e,n;return e=b(t),n=o[e]||0,g(t,n,{duration:0})}),Promise.all(t)})},d=function(t,n){var r,o,i;return n=E.options(n),r=e(t),n.restoreScroll?c({around:r}):n.reveal&&(o={duration:n.duration},E.isString(n.reveal)&&(i=m(n.reveal,n),r=up.first(i)||r,o.top=!0),r.length)?f(r,o):Promise.resolve()},m=function(t,e){return t=up.dom.resolveSelector(t,e.origin),"#"===t[0]&&(t+=", a[name='"+t+"']"),t},n=function(t,n){var r,o,i,u,s,a,l,p,c,f,h;for(n=E.options(n,{afterMeasure:E.noop}),i=up.layout.viewportOf(t),c=E.measure(t,{relative:!0,inner:!0}),f=t.offset(),n.afterMeasure(),E.writeInlineStyle(t,{position:"static"===E.readComputedStyle(t,"position")?"static":"relative",top:"auto",right:"auto",bottom:"auto",left:"auto",width:"100%",height:"100%"}),r=e('<div class="up-bounds"></div>'),u=E.merge(c,{position:"absolute"}),E.writeInlineStyle(r,u),r.insertBefore(t),t.appendTo(r),h=c.top,p=function(t){if(0!==t)return h+=t,E.writeInlineStyle(r,{top:h})},p(f.top-t.offset().top),o=up.layout.fixedChildren(t),a=0,l=o.length;a<l;a++)s=o[a],E.fixedToAbsolute(s,i);return{$element:t,$bounds:r,moveTop:p}},u=function(t){if(t=up.browser.hash(t))return up.first("[id='"+t+"'], a[name='"+t+"']")},up.on("up:app:booted",h),up.on("up:framework:reset",p),{reveal:f,revealHash:h,firstHashTarget:u,scroll:g,config:o,viewportOf:C,viewportsWithin:F,viewports:P,scrollTops:w,saveScroll:v,restoreScroll:c,revealOrRestoreScroll:d,anchoredRight:r,fixedChildren:s,absolutize:n}}(jQuery),up.scroll=up.layout.scroll,up.reveal=up.layout.reveal,up.revealHash=up.layout.revealHash}.call(this),function(){up.dom=function(t){var e,n,r,o,i,u,s,a,l,p,c,f,h,d,m,v,g,y,b,w,k,T,S,E,C,x,P,F,$,A,D;return A=up.util,r=A.config({fallbacks:["body"],fallbackTransition:null}),T=function(){return r.reset()},E=function(e,n){var r;if(n!==!1)return r=t(e),A.isPresent(n)&&(n=A.normalizeUrl(n)),r.attr("up-source",n)},P=function(e){var n;return n=t(e).closest("[up-source]"),A.presence(n.attr("up-source"))||up.browser.url()},S=function(t,e){var n,r;return A.isString(t)?(r=t,A.contains(r,"&")&&(A.isPresent(e)?(n=A.selectorForElement(e),r=r.replace(/\&/,n)):up.fail("Found origin reference (%s) in selector %s, but no origin was given","&",r))):r=A.selectorForElement(t),r},k=function(t,e,r){var o,i,u,s,a,l,p,c,f,h;if(r=A.options(r),r.inspectResponse=u=function(){return up.browser.navigate(e,A.only(r,"method","data"))},!up.browser.canPushState()&&r.history!==!1)return r.preload||u(),A.unresolvablePromise();h=A.merge(r,{humanizedTarget:"target"}),i=A.merge(r,{humanizedTarget:"failure target",provideTarget:void 0,restoreScroll:!1}),A.renameKey(i,"failTransition","transition"),A.renameKey(i,"failLayer","layer"),A.renameKey(i,"failReveal","reveal");try{a=n(t,h),s=n(r.failTarget,i)}catch(t){return o=t,Promise.reject(o)}return f={url:e,method:r.method,data:r.data,target:a,failTarget:s,cache:r.cache,preload:r.preload,headers:r.headers,timeout:r.timeout},p=function(t){return b(!0,a,t,h)},l=function(t){var e,n;return n=function(){return Promise.reject(t)},t.isFatalError()?n():(e=b(!1,s,t,i),A.always(e,n))},c=up.request(f),r.preload||(c=c.then(p,l)),c},b=function(t,e,n,r){var o,i,u,s,a;return s=n.request,a=n.url,i=a,o=s.hash,r.reveal===!0&&o&&(r.reveal=o,i+=o),u="GET"===n.method,t?u?(r.history===!1||A.isString(r.history)||(r.history=i),r.source===!1||A.isString(r.source)||(r.source=a)):(A.isString(r.history)||(r.history=!1),A.isString(r.source)||(r.source="keep")):u?(r.history!==!1&&(r.history=i),r.source!==!1&&(r.source=a)):(r.history=!1,r.source="keep"),C(r)&&n.title&&(r.title=n.title),l(e,n.text,r)},C=function(t){return!(t.title===!1||A.isString(t.title)||t.history===!1&&t.title!==!0)},l=function(t,n,r){return up.log.group("Extracting %s from %d bytes of HTML",t,null!=n?n.length:void 0,function(){return r=A.options(r,{historyMethod:"push",requireMatch:!0,keep:!0,layer:"auto"}),r.saveScroll!==!1&&up.layout.saveScroll(),A.rejectOnError(function(){var o,i,u,s,a,l,p;for("function"==typeof r.provideTarget&&r.provideTarget(),s=new up.HtmlParser(n),o=e(t,s,r),C(r)&&(a=s.title())&&(r.title=a),D(r),p=[],i=0,u=o.length;i<u;i++)l=o[i],up.log.group("Swapping fragment %s",l.selector,function(){var t,e;return t=A.merge(r,A.only(l,"origin","reveal")),s.prepareForInsertion(l.$new),e=F(l.$old,l.$new,l.pseudoClass,l.transition,t),p.push(e)});return Promise.all(p);
})})},n=function(t,e){var n;return n=new up.ExtractCascade(t,e),n.bestPreflightSelector()},e=function(t,e,n){var r;return n=A.merge(n,{response:e}),r=new up.ExtractCascade(t,n),r.bestMatchingSteps()},D=function(t){if(t=A.options(t,{historyMethod:"push"}),t.history&&up.history[t.historyMethod](t.history),A.isString(t.title))return document.title=t.title},F=function(t,e,n,r,o){var s,l,c,f,h;return r||(r="none"),"keep"===o.source&&(o=A.merge(o,{source:P(t)})),E(e,o.source),n?(l=e.contents().wrapAll('<div class="up-insertion"></div>').parent(),"before"===n?t.prepend(l):t.append(l),d(l.children(),o),h=up.layout.revealOrRestoreScroll(l,o),h=h.then(function(){return up.animate(l,r,o)}),h=h.then(function(){return A.unwrapElement(l)})):(c=p(t,e,o))?(a(c),Promise.resolve()):(o.keepPlans=$(t,e,o),s=t.parent(),f=A.merge(o,{beforeStart:function(){return g(t),i(t,{log:!1})},afterInsert:function(){return up.hello(e,o)},beforeDetach:function(){return up.syntax.clean(t)},afterDetach:function(){return t.remove(),u(t,{$parent:s,log:!1})}}),up.morph(t,e,r,f))},$=function(e,n,r){var o,i,u,s,a,l,c,f;if(s=[],r.keep)for(f=e.find("[up-keep]"),u=0,l=f.length;u<l;u++)a=f[u],o=t(a),(c=p(o,n,A.merge(r,{descendantsOnly:!0})))&&(i=o.clone(),A.detachWith(o,i),c.$newElement.replaceWith(o),s.push(c));return s},p=function(t,e,n){var r,o,i,u,s;if(n.keep&&(r=t,(u=A.castedAttr(r,"up-keep"))&&(A.isString(u)||(u="&"),u=S(u,r),o=n.descendantsOnly?e.find(u):A.selectInSubtree(e,u),o=o.first(),o.length&&o.is("[up-keep]")&&(s={$element:r,$newElement:o,newData:up.syntax.data(o)},i=A.merge(s,{message:["Keeping element %o",r.get(0)]}),up.bus.nobodyPrevents("up:fragment:keep",i)))))return s},d=function(e,n){var r,o,i,u,l,p;for(r=t(e),n=A.options(n,{keepPlans:[]}),i=[],p=n.keepPlans,o=0,u=p.length;o<u;o++)l=p[o],a(l),i.push(l.$element);return up.syntax.compile(r,{skip:i}),s(r,n),r},s=function(t,e){return up.emit("up:fragment:inserted",{$element:t,message:["Inserted fragment %o",t.get(0)],origin:e.origin})},a=function(t){var e;return e=A.merge(t,{message:["Kept fragment %o",t.$element.get(0)]}),up.emit("up:fragment:kept",e)},i=function(t,e){var n;return x(t,e)&&(n=["Destroying fragment %o",t.get(0)]),up.emit("up:fragment:destroy",{$element:t,message:n})},u=function(t,e){var n,r;return x(t,e)&&(r=["Destroyed fragment %o",t.get(0)]),n=e.$parent||up.fail("Missing { $parent } option"),up.emit("up:fragment:destroyed",{$target:n,$parent:n,$element:t,message:r})},m=function(t){var e;return e=".up-destroying",0===t.closest(e).length},c=function(t,e){var n;return e=A.options(e,{layer:"auto"}),n=S(t,e.origin),"auto"===e.layer?h(n,e.origin):f(n,e.layer)},h=function(t,e){var n,r,o,i,u,s;for(i=["popup","modal","page"],n=void 0,A.isPresent(e)&&(s=v(e),A.remove(i,s),i.unshift(s)),r=0,u=i.length;r<u&&(o=i[r],!(n=f(t,o)));r++);return n},f=function(e,n){var r,o,i,u,s,a;for(o=t(e),i=void 0,s=0,a=o.length;s<a;s++)if(u=o[s],r=t(u),m(r)&&y(r,n)){i=r;break}return i},v=function(e){var n;return n=t(e),up.popup.contains(n)?"popup":up.modal.contains(n)?"modal":"page"},y=function(t,e){return v(t)===e},o=function(e,n){var r,o,s;return r=t(e),n=A.options(n,{animation:!1}),0===r.length?Promise.resolve():(g(r),i(r,n),D(n),o=function(){var t;return t=up.motion.animateOptions(n),up.motion.animate(r,n.animation,t)},s=function(){var t;return t=r.parent(),up.syntax.clean(r),r.remove(),u(r,{$parent:t})},o().then(s))},x=function(t,e){return e.log!==!1&&!t.is(".up-placeholder, .up-tooltip, .up-modal, .up-popup")},g=function(t){return t.addClass("up-destroying")},w=function(t,e){var n;return e=A.options(e,{cache:!1}),n=e.url||P(t),k(t,n,e)},up.on("up:app:boot",function(){var e;return e=t(document.body),E(e,up.browser.url()),d(e)}),up.on("up:framework:reset",T),{replace:k,reload:w,destroy:o,extract:l,first:c,source:P,resolveSelector:S,hello:d,config:r}}(jQuery),up.replace=up.dom.replace,up.extract=up.dom.extract,up.reload=up.dom.reload,up.destroy=up.dom.destroy,up.first=up.dom.first,up.hello=up.dom.hello,up.renamedModule("flow","dom")}.call(this),function(){var t=[].slice;up.motion=function(e){var n,r,o,i,u,s,a,l,p,c,f,h,d,m,v,g,y,b,w,k,T,S,E,C,x,P,F,$;return F=up.util,b={},a={},w={},l={},y=new up.MotionTracker("motion"),s=F.config({duration:300,delay:0,easing:"ease",enabled:!0}),S=function(){return y.reset(),b=F.copy(a),w=F.copy(l),s.reset()},d=function(){return s.enabled},r=function(t,n,r){var o,u,s,a;return o=e(t),r=i(r),u=p(n),a=$(o,n,r),a?(s=function(){return u(o,r)},y.claim(o,s,r)):E(o,n)},$=function(t,e,n){return n=i(n),d()&&!m(e)&&n.duration>0&&!v(t)},v=function(t){return t.is("body")},E=function(t,e){return F.isOptions(e)&&F.writeInlineStyle(t,e),Promise.resolve()},n=0,o=function(t,e,n){var r;return n=F.merge(n,{finishEvent:y.finishEvent}),r=new up.CssTransition(t,e,n),r.start()},i=function(){var e,n,r,o,i;return n=1<=arguments.length?t.call(arguments,0):[],i=n.shift()||{},e=F.isJQuery(n[0])?n.shift():F.nullJQuery(),o=F.isObject(n[0])?n.shift():{},r={},r.easing=F.option(i.easing,F.presentAttr(e,"up-easing"),o.easing,s.easing),r.duration=Number(F.option(i.duration,F.presentAttr(e,"up-duration"),o.duration,s.duration)),r.delay=Number(F.option(i.delay,F.presentAttr(e,"up-delay"),o.delay,s.delay)),r.trackMotion=i.trackMotion,r},c=function(t){return b[t]||up.fail("Unknown animation %o",t)},h=function(t){return y.finish(t)},g=function(t,n,r,o){var u,s,a,l,p,c,h,d,m,v,g,b,w,k,T;return o=F.options(o),o=F.assign(o,i(o)),a=e(t),s=e(n),u=a.add(s),k=f(r),T=$(a,k,o),d=F.pluckKey(o,"beforeStart")||F.noop,c=F.pluckKey(o,"afterInsert")||F.noop,h=F.pluckKey(o,"beforeDetach")||F.noop,p=F.pluckKey(o,"afterDetach")||F.noop,d(),g=function(){var t;return t=F.merge(o,{duration:0}),up.layout.revealOrRestoreScroll(s,t)},T?y.isActive(a)&&o.trackMotion===!1?k(a,s,o):(up.puts("Morphing %o to %o with transition %o",a.get(0),s.get(0),r),l=up.layout.viewportOf(a),b=l.scrollTop(),m=up.layout.absolutize(a,{afterMeasure:function(){return s.insertBefore(a),c()}}),w=function(){var t;return t=g(),t=t.then(function(){var t;return t=l.scrollTop(),m.moveTop(t-b),k(a,s,o)}),t=t.then(function(){return h(),a.detach(),m.$bounds.remove(),p()})},y.claim(u,w,o)):(h(),x(a,s),c(),p(),v=g())},f=function(t){var e;if(!m(t))return F.isFunction(t)?t:F.isArray(t)?u.apply(null,t):F.isString(t)?t.indexOf("/")>=0?u.apply(null,t.split("/")):(e=w[t])?f(e):void 0:up.fail("Unknown transition %o",t)},u=function(t,e){var n,r;return m(t)&&m(t)?void 0:(r=p(t)||F.asyncNoop,n=p(e)||F.asyncNoop,function(t,e,o){return Promise.all([r(t,o),n(e,o)])})},p=function(t){return m(t)?void 0:F.isFunction(t)?t:F.isString(t)?c(t):F.isOptions(t)?function(e,n){return o(e,t,n)}:up.fail("Unknown animation %o",t)},x=function(t,e){return t.replaceWith(e)},T=function(t,e){return w[t]=f(e)},k=function(t,e){return b[t]=p(e)},C=function(){return a=F.copy(b),l=F.copy(w)},m=function(t){return!t||"none"===t||F.isBlank(t)},k("fade-in",function(t,e){return F.writeInlineStyle(t,{opacity:0}),o(t,{opacity:1},e)}),k("fade-out",function(t,e){return F.writeInlineStyle(t,{opacity:1}),o(t,{opacity:0},e)}),P=function(t,e){return{transform:"translate("+t+"px, "+e+"px)"}},k("move-to-top",function(t,e){var n,r;return F.writeInlineStyle(t,P(0,0)),n=F.measure(t),r=n.top+n.height,o(t,P(0,-r),e)}),k("move-from-top",function(t,e){var n,r;return F.writeInlineStyle(t,P(0,0)),n=F.measure(t),r=n.top+n.height,F.writeInlineStyle(t,P(0,-r)),o(t,P(0,0),e)}),k("move-to-bottom",function(t,e){var n,r;return F.writeInlineStyle(t,P(0,0)),n=F.measure(t),r=F.clientSize().height-n.top,o(t,P(0,r),e)}),k("move-from-bottom",function(t,e){var n,r;return F.writeInlineStyle(t,P(0,0)),n=F.measure(t),r=F.clientSize().height-n.top,F.writeInlineStyle(t,P(0,r)),o(t,P(0,0),e)}),k("move-to-left",function(t,e){var n,r;return F.writeInlineStyle(t,P(0,0)),n=F.measure(t),r=n.left+n.width,o(t,P(-r,0),e)}),k("move-from-left",function(t,e){var n,r;return F.writeInlineStyle(t,P(0,0)),n=F.measure(t),r=n.left+n.width,F.writeInlineStyle(t,P(-r,0)),o(t,P(0,0),e)}),k("move-to-right",function(t,e){var n,r;return F.writeInlineStyle(t,P(0,0)),n=F.measure(t),r=F.clientSize().width-n.left,o(t,P(r,0),e)}),k("move-from-right",function(t,e){var n,r;return F.writeInlineStyle(t,P(0,0)),n=F.measure(t),r=F.clientSize().width-n.left,F.writeInlineStyle(t,P(r,0)),o(t,P(0,0),e)}),k("roll-down",function(t,e){var n,o,i;return o=t.height(),i=F.writeTemporaryStyle(t,{height:"0px",overflow:"hidden"}),n=r(t,{height:o+"px"},e),n.then(i),n}),T("move-left",["move-to-left","move-from-right"]),T("move-right",["move-to-right","move-from-left"]),T("move-up",["move-to-top","move-from-bottom"]),T("move-down",["move-to-bottom","move-from-top"]),T("cross-fade",["fade-out","fade-in"]),up.on("up:framework:booted",C),up.on("up:framework:reset",S),{morph:g,animate:r,animateOptions:i,willAnimate:$,finish:h,finishCount:function(){return y.finishCount},transition:T,animation:k,config:s,isEnabled:d,isNone:m}}(jQuery),up.transition=up.motion.transition,up.animation=up.motion.animation,up.morph=up.motion.morph,up.animate=up.motion.animate}.call(this),function(){var t=[].slice;up.proxy=function(e){var n,r,o,i,u,s,a,l,p,c,f,h,d,m,v,g,y,b,w,k,T,S,E,C,x,P,F,$,A,D,O,M,R,q,U;return q=up.util,n=void 0,S=void 0,D=void 0,b=void 0,O=void 0,C=[],l=q.config({slowDelay:300,preloadDelay:75,cacheSize:70,cacheExpiry:3e5,maxRequests:4,wrapMethods:["PATCH","PUT","DELETE"],safeMethods:["GET","OPTIONS","HEAD"]}),i=new up.Cache({size:function(){return l.cacheSize},expiry:function(){return l.cacheExpiry},key:function(t){return up.Request.wrap(t).cacheKey()},cachable:function(t){return up.Request.wrap(t).isCachable()}}),p=function(t){var e,n,r,o,u,s,a;for(t=up.Request.wrap(t),n=[t],"html"!==t.target&&(s=t.copy({target:"html"}),n.push(s),"body"!==t.target&&(u=t.copy({target:"body"}),n.push(u))),r=0,o=n.length;r<o;r++)if(e=n[r],a=i.get(e))return a},u=function(){return clearTimeout(S),S=null},s=function(){return clearTimeout(D),D=null},F=function(){return n=null,u(),s(),b=0,l.reset(),i.clear(),O=!1,C=[]},F(),y=function(){var e,n,r,o,i;return e=1<=arguments.length?t.call(arguments,0):[],r=q.extractOptions(e),q.isGiven(e[0])&&(r.url=e[0]),n=r.cache===!1,i=up.Request.wrap(r),i.isSafe()||a(),!n&&(o=p(i))?up.puts("Re-using cached response for %s %s",i.method,i.url):(o=v(i),A(i,o),o["catch"](function(){return P(i)})),r.preload||(g(),q.always(o,m)),o},r=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],up.log.warn("up.ajax() has been deprecated. Use up.request() instead."),new Promise(function(t,n){var r;return r=function(e){return t(e.text)},y.apply(null,e).then(r,n)})},f=function(){return 0===b},c=function(){return b>0},g=function(){var t;if(b+=1,!D)return t=function(){if(c())return up.emit("up:proxy:slow",{message:"Proxy is slow to respond"}),O=!0},D=q.setTimer(l.slowDelay,t)},m=function(){if(b-=1,f()&&(s(),O))return up.emit("up:proxy:recover",{message:"Proxy has recovered from slow response"}),O=!1},v=function(t){return b<l.maxRequests?d(t):E(t)},E=function(t){var e;return up.puts("Queuing request for %s %s",t.method,t.url),e=function(){return d(t)},e=q.previewable(e),C.push(e),e.promise},d=function(t){var e,n;return e={request:t,message:["Loading %s %s",t.method,t.url]},up.bus.nobodyPrevents("up:proxy:load",e)?(n=t.send(),q.always(n,$),q.always(n,w),n):(q.microtask(w),Promise.reject(new Error("Event up:proxy:load was prevented")))},x=function(t){var e,n;if(n=t.request,t.url&&n.url!==t.url)return e=n.copy({method:t.method,url:t.url}),up.proxy.alias(n,e)},$=function(t){return t.isFatalError()?up.emit("up:proxy:fatal",{message:"Fatal error during request",request:t.request,response:t}):(t.isError()||x(t),up.emit("up:proxy:loaded",{message:["Server responded with HTTP %d (%d bytes)",t.status,t.text.length],request:t.request,response:t}))},w=function(){var t;"function"==typeof(t=C.shift())&&t()},o=i.alias,A=i.set,P=i.remove,a=i.clear,up.bus.renamedEvent("up:proxy:received","up:proxy:loaded"),T=function(t){var e,r;if(r=parseInt(q.presentAttr(t,"up-delay"))||l.preloadDelay,!t.is(n))return n=t,u(),e=function(){return q.muteRejection(k(t)),n=null},M(e,r)},M=function(t,e){return S=setTimeout(t,e)},R=function(t){if(t.is(n))return n=void 0,u()},k=function(t){var n;return n=e(t),up.link.isSafe(n)?up.log.group("Preloading link %o",n.get(0),function(){var t;return t=up.link.followVariantForLink(n),t.preloadLink(n)}):Promise.reject(new Error("Won't preload unsafe link"))},h=function(t){return q.contains(l.safeMethods,t)},U=function(t,e,n){return q.contains(l.wrapMethods,t)&&(e=q.appendRequestData(e,up.protocol.config.methodParam,t,n),t="POST"),[t,e]},up.compiler("a[up-preload], [up-href][up-preload]",function(t){if(up.link.isSafe(t))return t.on("mouseenter touchstart",function(e){if(up.link.shouldProcessEvent(e,t))return T(t)}),t.on("mouseleave",function(){return R(t)})}),up.on("up:framework:reset",F),{preload:k,ajax:r,request:y,get:p,alias:o,clear:a,remove:P,isIdle:f,isBusy:c,isSafeMethod:h,wrapMethod:U,config:l}}(jQuery),up.ajax=up.proxy.ajax,up.request=up.proxy.request}.call(this),function(){up.link=function(t){var e,n,r,o,i,u,s,a,l,p,c,f,h,d,m;return d=up.util,m=function(t,e){var n;return e=d.options(e),n=d.option(e.target,"body"),up.replace(n,t,e)},u=function(e,n){var r,o;return r=t(e),o=a(r),o.followLink(r,n)},o=function(e,n){var r,o,i;return r=t(e),n=d.options(n),i=d.option(r.attr("up-href"),r.attr("href")),o=d.option(n.target,r.attr("up-target")),n.failTarget=d.option(n.failTarget,r.attr("up-fail-target")),n.fallback=d.option(n.fallback,r.attr("up-fallback")),n.transition=d.option(n.transition,d.castedAttr(r,"up-transition"),"none"),n.failTransition=d.option(n.failTransition,d.castedAttr(r,"up-fail-transition"),"none"),n.history=d.option(n.history,d.castedAttr(r,"up-history")),n.reveal=d.option(n.reveal,d.castedAttr(r,"up-reveal"),!0),n.failReveal=d.option(n.failReveal,d.castedAttr(r,"up-fail-reveal"),!0),n.cache=d.option(n.cache,d.castedAttr(r,"up-cache")),n.restoreScroll=d.option(n.restoreScroll,d.castedAttr(r,"up-restore-scroll")),n.method=s(r,n),n.origin=d.option(n.origin,r),n.layer=d.option(n.layer,r.attr("up-layer"),"auto"),n.failLayer=d.option(n.failLayer,r.attr("up-fail-layer"),"auto"),n.confirm=d.option(n.confirm,r.attr("up-confirm")),n=d.merge(n,up.motion.animateOptions(n,r)),up.browser.whenConfirmed(n).then(function(){return up.replace(o,i,n)})},i=function(t,e){return e=d.options(e),e.preload=!0,o(t,e)},s=function(e,n){var r;return r=t(e),n=d.options(n),d.option(n.method,r.attr("up-method"),r.attr("data-method"),"get").toUpperCase()},r=function(){},l=[],n=function(t,e){var n;return n=new up.FollowVariant(t,e),l.push(n),n.registerEvents(),n},p=function(t){return!!a(t,{"default":!1})},a=function(n,r){var o,i;return r=d.options(r),o=t(n),i=d.detect(l,function(t){return t.matchesLink(o)}),r["default"]!==!1&&(i||(i=e)),i},f=function(e){var n;if(n=t(e),!p(n))return n.attr("up-follow","")},h=function(e,n){var r,o;return o=e.target,!!d.isUnmodifiedMouseEvent(e)&&(o===n.get(0)||(r=t(o).closest("a, [up-href], "+up.form.fieldSelector()).not(n),!r.length))},c=function(e,n){var r,o;return r=t(e),o=s(r,n),up.proxy.isSafeMethod(o)},e=n("[up-target], [up-follow]",{follow:function(t,e){return o(t,e)},preload:function(t,e){return i(t,e)}}),up.macro("[up-dash]",function(t){var e,n;return n=d.castedAttr(t,"up-dash"),t.removeAttr("up-dash"),e={"up-preload":"","up-instant":""},n===!0?f(t):e["up-target"]=n,d.setMissingAttrs(t,e)}),up.macro("[up-expand]",function(e){var n,r,o,i,u,s,a,l,p,c;if(n=e.find("a, [up-href]"),(p=e.attr("up-expand"))&&(n=n.filter(p)),u=n.get(0)){for(c=/^up-/,a={},a["up-href"]=t(u).attr("href"),l=u.attributes,o=0,i=l.length;o<i;o++)r=l[o],s=r.name,s.match(c)&&(a[s]=r.value);return d.setMissingAttrs(e,a),e.removeAttr("up-expand"),f(e)}}),{visit:m,follow:u,makeFollowable:f,isSafe:c,isFollowable:p,shouldProcessEvent:h,followMethod:s,addFollowVariant:n,followVariantForLink:a,allowDefault:r}}(jQuery),up.visit=up.link.visit,up.follow=up.link.follow}.call(this),function(){var t=[].slice;up.form=function(e){var n,r,o,i,u,s,a,l,p,c,f,h,d,m;return d=up.util,r=d.config({validateTargets:["[up-fieldset]:has(&)","fieldset:has(&)","label:has(&)","form:has(&)"],fields:[":input"],observeDelay:0}),a=function(){return r.reset()},o=function(){return r.fields.join(",")},p=function(t,n){var r,o,i;return r=e(t).closest("form"),n=d.options(n),o=d.option(n.target,r.attr("up-target"),"body"),i=d.option(n.url,r.attr("action"),up.browser.url()),n.failTarget=d.option(n.failTarget,r.attr("up-fail-target"))||d.selectorForElement(r),n.reveal=d.option(n.reveal,d.castedAttr(r,"up-reveal"),!0),n.failReveal=d.option(n.failReveal,d.castedAttr(r,"up-fail-reveal"),!0),n.fallback=d.option(n.fallback,r.attr("up-fallback")),n.history=d.option(n.history,d.castedAttr(r,"up-history"),!0),n.transition=d.option(n.transition,d.castedAttr(r,"up-transition"),"none"),n.failTransition=d.option(n.failTransition,d.castedAttr(r,"up-fail-transition"),"none"),n.method=d.option(n.method,r.attr("up-method"),r.attr("data-method"),r.attr("method"),"post").toUpperCase(),n.headers=d.option(n.headers,{}),n.cache=d.option(n.cache,d.castedAttr(r,"up-cache")),n.restoreScroll=d.option(n.restoreScroll,d.castedAttr(r,"up-restore-scroll")),n.origin=d.option(n.origin,r),n.layer=d.option(n.layer,r.attr("up-layer"),"auto"),n.failLayer=d.option(n.failLayer,r.attr("up-fail-layer"),"auto"),n.data=d.requestDataFromForm(r),n=d.merge(n,up.motion.animateOptions(n,r)),n.validate&&(n.headers||(n.headers={}),n.transition=!1,n.failTransition=!1,n.headers[up.protocol.config.validateHeader]=n.validate),up.bus.whenEmitted("up:form:submit",{$element:r}).then(function(){var t;return up.feedback.start(r),up.browser.canPushState()||n.history===!1?(t=up.replace(o,i,n),d.always(t,function(){return up.feedback.stop(r)}),t):(r.get(0).submit(),d.unresolvablePromise())})},u=function(){var n,i,u,a,l,p,c,f,h,m;return m=arguments[0],c=2<=arguments.length?t.call(arguments,1):[],f={},a=void 0,1===c.length?a=c[0]:c.length>1&&(f=d.options(c[0]),a=c[1]),n=e(m),u=null,h=d.option(a,d.presentAttr(n,"up-observe")),u=d.isString(h)?new Function("value","$field",h):h||up.fail("up.observe: No change callback given"),l=d.option(d.presentAttr(n,"up-delay"),f.delay,r.observeDelay),l=parseInt(l),i=d.selectInSubtree(n,o()),p=d.map(i,function(t){return s(e(t),l,u)}),d.sequence.apply(d,p)},s=function(t,e,n){var r;return r=new up.FieldObserver(t,{delay:e,callback:n}),r.start(),r.stop},n=function(t,e){return u(t,e,function(t,e){var n;return n=e.closest("form"),up.feedback.start(e,function(){return p(n)})})},l=function(t,e){var n;return n=d.option(e.target,t.attr("up-validate")),d.isBlank(n)&&(n||(n=d.detect(r.validateTargets,function(n){var r;return r=up.dom.resolveSelector(n,e.origin),t.closest(r).length}))),d.isBlank(n)&&up.fail("Could not find default validation target for %o (tried ancestors %o)",t.get(0),r.validateTargets),d.isString(n)||(n=d.selectorForElement(n)),n},m=function(t,n){var r,o,i;return r=e(t),n=d.options(n),n.origin=r,n.target=l(r,n),n.failTarget=n.target,n.reveal=d.option(n.reveal,d.castedAttr(r,"up-reveal"),!1),n.history=!1,n.headers=d.option(n.headers,{}),n.validate=r.attr("name")||"__none__",n=d.merge(n,up.motion.animateOptions(n,r)),o=r.closest("form"),i=up.submit(o,n)},h=function(t){var e,n,r,o;return t.is("input[type=checkbox]")?t.is(":checked")?(r=t.val(),n=":checked"):n=":unchecked":t.is("input[type=radio]")?(e=t.closest("form, body").find("input[type='radio'][name='"+t.attr("name")+"']:checked"),e.length?(n=":checked",r=e.val()):n=":unchecked"):r=t.val(),o=[],d.isPresent(r)?(o.push(r),o.push(":present")):o.push(":blank"),d.isPresent(n)&&o.push(n),o},f=function(t,n){var r,o,i;return r=e(t),n=d.options(n),i=d.option(n.target,r.attr("up-switch")),d.isPresent(i)||up.fail("No switch target given for %o",r.get(0)),o=h(r),e(i).each(function(){return c(e(this),o)})},c=function(t,n){var r,o,u,s;return r=e(t),n||(n=h(i(r))),(o=r.attr("up-hide-for"))?(o=o.split(" "),u=0===d.intersect(n,o).length):(s=(s=r.attr("up-show-for"))?s.split(" "):[":present",":checked"],u=d.intersect(n,s).length>0),r.toggle(u),r.addClass("up-switched")},i=function(t){var n,r;return n=e("[up-switch]"),r=d.detect(n,function(n){var r;return r=e(n).attr("up-switch"),t.is(r)}),r?e(r):d.fail("Could not find [up-switch] field for %o",t.get(0))},up.on("submit","form[up-target]",function(t,e){return up.bus.consumeAction(t),d.muteRejection(p(e))}),up.on("change","[up-validate]",function(t,e){return d.muteRejection(m(e))}),up.compiler("[up-switch]",function(t){return f(t)}),up.on("change","[up-switch]",function(t,e){return f(e)}),up.compiler("[up-show-for]:not(.up-switched), [up-hide-for]:not(.up-switched)",function(t){return c(t)}),up.compiler("[up-observe]",function(t){return u(t)}),up.compiler("[up-autosubmit]",function(t){return n(t)}),up.compiler("[autofocus]",{batch:!0},function(t){return t.last().focus()}),up.on("up:framework:reset",a),{config:r,submit:p,observe:u,validate:m,switchTargets:f,autosubmit:n,fieldSelector:o}}(jQuery),up.submit=up.form.submit,up.observe=up.form.observe,up.autosubmit=up.form.autosubmit,up.validate=up.form.validate}.call(this),function(){up.popup=function(t){var e,n,r,o,i,u,s,a,l,p,c,f,h,d,m,v,g,y;return g=up.util,a=g.config({openAnimation:"fade-in",closeAnimation:"fade-out",openDuration:150,closeDuration:100,openEasing:null,closeEasing:null,position:"bottom-right",history:!1}),m=g.config({phase:"closed",$anchor:null,$popup:null,position:null,sticky:null,url:null,coveredUrl:null,coveredTitle:null}),i=new g.DivertibleChain,d=function(){var t;return null!=(t=m.$popup)&&t.remove(),m.reset(),i.reset(),a.reset()},e=function(){var t,e,n;switch(n={},e=g.measure(m.$popup),g.isFixed(m.$anchor)?(t=m.$anchor.get(0).getBoundingClientRect(),n.position="fixed"):t=g.measure(m.$anchor),m.position){case"bottom-right":n.top=t.top+t.height,n.left=t.left+t.width-e.width;break;case"bottom-left":n.top=t.top+t.height,n.left=t.left;break;case"top-right":n.top=t.top-e.height,n.left=t.left+t.width-e.width;break;case"top-left":n.top=t.top-e.height,n.left=t.left;break;default:up.fail("Unknown position option '%s'",m.position)}return m.$popup.attr("up-position",m.position),g.writeInlineStyle(m.$popup,n)},c=function(){return m.coveredTitle=null,m.coveredUrl=null},p=function(t){var e;return e=g.$createElementFromSelector(".up-popup"),g.$createPlaceholder(t,e),e.hide(),e.appendTo(document.body),m.$popup=e},y=function(){return m.$popup.show()},f=function(){return"opened"===m.phase||"opening"===m.phase},n=function(t,e){return i.asap(s,function(){return r(t,e)})},r=function(n,r){var o,i,u,s,l,c,f;return o=t(n),o.length||up.fail("Cannot attach popup to non-existing element %o",n),r=g.options(r),f=g.option(g.pluckKey(r,"url"),o.attr("up-href"),o.attr("href")),s=g.option(g.pluckKey(r,"html")),f||s||up.fail("up.popup.attach() requires either an { url } or { html } option"),c=g.option(g.pluckKey(r,"target"),o.attr("up-popup"))||up.fail("No target selector given for [up-popup]"),l=g.option(r.position,o.attr("up-position"),a.position),r.animation=g.option(r.animation,o.attr("up-animation"),a.openAnimation),r.sticky=g.option(r.sticky,g.castedAttr(o,"up-sticky"),a.sticky),r.history=!!up.browser.canPushState()&&g.option(r.history,g.castedAttr(o,"up-history"),a.history),r.confirm=g.option(r.confirm,o.attr("up-confirm")),r.method=up.link.followMethod(o,r),r.layer="popup",r.failTarget=g.option(r.failTarget,o.attr("up-fail-target")),r.failLayer=g.option(r.failLayer,o.attr("up-fail-layer"),"auto"),r.provideTarget=function(){return p(c)},i=up.motion.animateOptions(r,o,{duration:a.openDuration,easing:a.openEasing}),u=g.merge(r,{animation:!1}),r.preload&&f?up.replace(c,f,r):up.browser.whenConfirmed(r).then(function(){return up.bus.whenEmitted("up:popup:open",{url:f,message:"Opening popup"}).then(function(){var t;return m.phase="opening",m.$anchor=o,m.position=l,r.history&&(m.coveredUrl=up.browser.url(),m.coveredTitle=document.title),m.sticky=r.sticky,t=s?up.extract(c,s,u):up.replace(c,f,u),t=t.then(function(){return e(),y(),up.animate(m.$popup,r.animation,i)}),t=t.then(function(){return m.phase="opened",up.emit("up:popup:opened",{message:"Popup opened"})})})})},u=function(t){return i.asap(function(){return s(t)})},s=function(t){var e;return f()?(t=g.options(t,{animation:a.closeAnimation,history:m.coveredUrl,title:m.coveredTitle}),e=up.motion.animateOptions(t,{duration:a.closeDuration,easing:a.closeEasing}),g.assign(t,e),up.bus.whenEmitted("up:popup:close",{message:"Closing popup",$element:m.$popup}).then(function(){return m.phase="closing",m.url=null,m.coveredUrl=null,m.coveredTitle=null,up.destroy(m.$popup,t).then(function(){return m.phase="closed",m.$popup=null,m.$anchor=null,m.sticky=null,up.emit("up:popup:closed",{message:"Popup closed"})})})):Promise.resolve()},h=function(t,e){return e=g.options(e),e.preload=!0,r(t,e)},v=function(t,e){return g.hasClass(t,"up-current")?u():n(t,e)},o=function(){if(!m.sticky)return c(),u()},l=function(e){var n;return n=t(e),n.closest(".up-popup").length>0},up.link.addFollowVariant("[up-popup]",{follow:function(t,e){return v(t,e)},preload:function(t,e){return h(t,e)}}),up.on("click up:action:consumed",function(e){var n;if(n=t(e.target),!n.closest(".up-popup, [up-popup]").length)return u()}),up.on("up:fragment:inserted",function(t,e){var n;if(l(e)){if(n=e.attr("up-source"))return m.url=n}else if(t.origin&&l(t.origin))return o()}),up.bus.onEscape(u),up.on("click",".up-popup [up-close]",function(t){return u(),up.bus.consumeAction(t)}),up.on("up:history:restore",u),up.on("up:framework:reset",d),{attach:n,close:u,url:function(){return m.url},coveredUrl:function(){return m.coveredUrl},config:a,contains:l,isOpen:f}}(jQuery)}.call(this),function(){up.modal=function(t){var e,n,r,o,i,u,s,a,l,p,c,f,h,d,m,v,g,y,b,w,k,T,S,E,C,x,P,F;return C=up.util,u=C.config({maxWidth:null,width:null,height:null,history:!0,openAnimation:"fade-in",closeAnimation:"fade-out",openDuration:null,closeDuration:null,openEasing:null,closeEasing:null,backdropOpenAnimation:"fade-in",backdropCloseAnimation:"fade-out",closeLabel:"\xd7",closable:!0,sticky:!1,flavor:"default",position:null,template:function(t){return'<div class="up-modal">\n  <div class="up-modal-backdrop"></div>\n  <div class="up-modal-viewport">\n    <div class="up-modal-dialog">\n      <div class="up-modal-content"></div>\n      <div class="up-modal-close" up-close>'+t.closeLabel+"</div>\n    </div>\n  </div>\n</div>"}}),d=C.openConfig({"default":{}}),S=C.config(function(){return{phase:"closed",$anchor:null,$modal:null,sticky:null,closable:null,flavor:null,url:null,coveredUrl:null,coveredTitle:null,position:null,unshifters:[]}}),r=new C.DivertibleChain,k=function(){var t;return null!=(t=S.$modal)&&t.remove(),x(),S.reset(),r.reset(),u.reset(),d.reset()},E=function(){var t;return t=f("template"),C.evalOption(t,{closeLabel:f("closeLabel")})},l=function(){return S.coveredTitle=null,S.coveredUrl=null},a=function(e,n){var r,o,i,u;return i=t(E()),i.attr("up-flavor",S.flavor),C.isPresent(S.position)&&i.attr("up-position",S.position),o=i.find(".up-modal-dialog"),u=C.only(n,"width","maxWidth","height"),C.writeInlineStyle(o,u),S.closable||i.find(".up-modal-close").remove(),r=i.find(".up-modal-content"),C.$createPlaceholder(e,r),i.hide(),i.appendTo(document.body),S.$modal=i},P=function(){return S.$modal.show()},T=function(){var e,n,r,o,i;if(C.documentHasVerticalScrollbar())return e=t("body"),o=C.scrollbarWidth(),n=C.readComputedStyleNumber(e,"paddingRight"),r=o+n,i=C.writeTemporaryStyle(e,{paddingRight:r,overflowY:"hidden"}),S.unshifters.push(i),up.layout.anchoredRight().each(function(){var e,n,r,i;return e=t(this),n=C.readComputedStyleNumber(e,"right"),r=o+n,i=C.writeTemporaryStyle(e,{right:r}),S.unshifters.push(i)})},x=function(){var t,e;for(t=[];e=S.unshifters.pop();)t.push(e());return t},v=function(){return"opened"===S.phase||"opening"===S.phase},m=function(e,n){return n=C.options(n),n.$link=t(e),y(n)},w=function(t,e){return e=C.options(e),e.$link=t,e.preload=!0,b(e)},F=function(t,e){return e=C.options(e),e.url=t,y(e)},p=function(t,e,n){return n=C.options(n),n.html=e,n.history=C.option(n.history,!1),n.target=t,y(n)},y=function(t){return r.asap(i,function(){return b(t)})},b=function(t){var n,r,o,i,s;return t=C.options(t),n=C.option(C.pluckKey(t,"$link"),C.nullJQuery()),s=C.option(C.pluckKey(t,"url"),n.attr("up-href"),n.attr("href")),o=C.option(C.pluckKey(t,"html")),i=C.option(C.pluckKey(t,"target"),n.attr("up-modal"),"body"),t.flavor=C.option(t.flavor,n.attr("up-flavor"),u.flavor),t.position=C.option(t.position,n.attr("up-position"),f("position",t.flavor)),t.position=C.evalOption(t.position,{$link:n}),t.width=C.option(t.width,n.attr("up-width"),f("width",t.flavor)),t.maxWidth=C.option(t.maxWidth,n.attr("up-max-width"),f("maxWidth",t.flavor)),t.height=C.option(t.height,n.attr("up-height"),f("height")),t.animation=C.option(t.animation,n.attr("up-animation"),f("openAnimation",t.flavor)),t.animation=C.evalOption(t.animation,{position:t.position}),t.backdropAnimation=C.option(t.backdropAnimation,n.attr("up-backdrop-animation"),f("backdropOpenAnimation",t.flavor)),t.backdropAnimation=C.evalOption(t.backdropAnimation,{position:t.position}),t.sticky=C.option(t.sticky,C.castedAttr(n,"up-sticky"),f("sticky",t.flavor)),t.closable=C.option(t.closable,C.castedAttr(n,"up-closable"),f("closable",t.flavor)),t.confirm=C.option(t.confirm,n.attr("up-confirm")),t.method=up.link.followMethod(n,t),t.layer="modal",t.failTarget=C.option(t.failTarget,n.attr("up-fail-target")),t.failLayer=C.option(t.failLayer,n.attr("up-fail-layer"),"auto"),r=up.motion.animateOptions(t,n,{duration:f("openDuration",t.flavor),easing:f("openEasing",t.flavor)}),t.history=C.option(t.history,C.castedAttr(n,"up-history"),f("history",t.flavor)),up.browser.canPushState()||(t.history=!1),t.provideTarget=function(){return a(i,t)},t.preload?up.replace(i,s,t):up.browser.whenConfirmed(t).then(function(){return up.bus.whenEmitted("up:modal:open",{url:s,message:"Opening modal"}).then(function(){var n,u;return S.phase="opening",S.flavor=t.flavor,S.sticky=t.sticky,S.closable=t.closable,S.position=t.position,t.history&&(S.coveredUrl=up.browser.url(),S.coveredTitle=document.title),n=C.merge(t,{animation:!1}),u=o?up.extract(i,o,n):up.replace(i,s,n),u=u.then(function(){return T(),P(),e(t.animation,t.backdropAnimation,r)}),u=u.then(function(){return S.phase="opened",up.emit("up:modal:opened",{message:"Modal opened"})})})})},o=function(t){return r.asap(function(){return i(t)})},i=function(t){var n,r,o,i;return t=C.options(t),v()?(i=C.option(t.animation,f("closeAnimation")),i=C.evalOption(i,{position:S.position}),r=C.option(t.backdropAnimation,f("backdropCloseAnimation")),r=C.evalOption(r,{position:S.position}),n=up.motion.animateOptions(t,{duration:f("closeDuration"),easing:f("closeEasing")}),o=C.options(C.except(t,"animation","duration","easing","delay"),{history:S.coveredUrl,title:S.coveredTitle}),up.bus.whenEmitted("up:modal:close",{$element:S.$modal,message:"Closing modal"}).then(function(){var t;return S.phase="closing",S.url=null,S.coveredUrl=null,S.coveredTitle=null,t=e(i,r,n),t=t.then(function(){return up.destroy(S.$modal,o)}),t=t.then(function(){return x(),S.phase="closed",S.$modal=null,S.flavor=null,S.sticky=null,S.closable=null,S.position=null,up.emit("up:modal:closed",{message:"Modal closed"})})})):Promise.resolve()},g=function(t){return null==t&&(t=!0),S.$modal.toggleClass("up-modal-animating",t)},e=function(t,e,n){var r;return up.motion.isNone(t)?Promise.resolve():(g(),r=Promise.all([up.animate(S.$modal.find(".up-modal-viewport"),t,n),up.animate(S.$modal.find(".up-modal-backdrop"),e,n)]),r=r.then(function(){return g(!1)}))},n=function(){if(!S.sticky)return l(),o()},s=function(e){var n;return n=t(e),n.closest(".up-modal").length>0},c=function(t,e){return null==e&&(e={}),up.log.warn("up.modal.flavor() is deprecated. Use the up.modal.flavors property instead."),C.assign(h(t),e)},h=function(t){return d[t]||(d[t]={})},f=function(t,e){var n;return null==e&&(e=S.flavor),e&&(n=h(e)[t]),C.isMissing(n)&&(n=u[t]),n},up.link.addFollowVariant("[up-modal]",{follow:function(t,e){return m(t,e)},preload:function(t,e){return w(t,e)}}),up.on("click",".up-modal",function(e){var n;if(S.closable)return n=t(e.target),n.closest(".up-modal-dialog").length||n.closest("[up-modal]").length?void 0:(up.bus.consumeAction(e),o())}),up.on("up:fragment:inserted",function(t,e){var r;if(s(e)){if(r=e.attr("up-source"))return S.url=r}else if(t.origin&&s(t.origin)&&!up.popup.contains(e))return n()}),up.bus.onEscape(function(){if(S.closable)return o()}),up.on("click",".up-modal [up-close]",function(t){return o(),up.bus.consumeAction(t)}),up.macro("a[up-drawer], [up-href][up-drawer]",function(t){var e;return e=t.attr("up-drawer"),
t.attr({"up-modal":e,"up-flavor":"drawer"})}),d.drawer={openAnimation:function(t){switch(t.position){case"left":return"move-from-left";case"right":return"move-from-right"}},closeAnimation:function(t){switch(t.position){case"left":return"move-to-left";case"right":return"move-to-right"}},position:function(t){return C.isPresent(t.$link)?C.horizontalScreenHalf(t.$link):"left"}},up.on("up:history:restore",o),up.on("up:framework:reset",k),{visit:F,follow:m,extract:p,close:o,url:function(){return S.url},coveredUrl:function(){return S.coveredUrl},config:u,flavors:d,contains:s,isOpen:v,flavor:c}}(jQuery)}.call(this),function(){up.tooltip=function(t){var e,n,r,o,i,u,s,a,l,p,c,f;return f=up.util,s=f.config({position:"top",openAnimation:"fade-in",closeAnimation:"fade-out",openDuration:100,closeDuration:50,openEasing:null,closeEasing:null}),c=f.config({phase:"closed",$anchor:null,$tooltip:null,position:null}),o=new f.DivertibleChain,p=function(){var t;return null!=(t=c.$tooltip)&&t.remove(),c.reset(),o.reset(),s.reset()},e=function(){var t,e,n;switch(e={},n=f.measure(c.$tooltip),f.isFixed(c.$anchor)?(t=c.$anchor.get(0).getBoundingClientRect(),e.position="fixed"):t=f.measure(c.$anchor),c.position){case"top":e.top=t.top-n.height,e.left=t.left+.5*(t.width-n.width);break;case"left":e.top=t.top+.5*(t.height-n.height),e.left=t.left-n.width;break;case"right":e.top=t.top+.5*(t.height-n.height),e.left=t.left+t.width;break;case"bottom":e.top=t.top+t.height,e.left=t.left+.5*(t.width-n.width);break;default:up.fail("Unknown position option '%s'",c.position)}return c.$tooltip.attr("up-position",c.position),f.writeInlineStyle(c.$tooltip,e)},a=function(t){var e;return e=f.$createElementFromSelector(".up-tooltip"),f.isGiven(t.text)?e.text(t.text):e.html(t.html),e.appendTo(document.body),c.$tooltip=e},n=function(t,e){return null==e&&(e={}),o.asap(u,function(){return r(t,e)})},r=function(n,r){var o,i,u,l,p,h;return o=t(n),r=f.options(r),l=f.option(r.html,o.attr("up-tooltip-html")),h=f.option(r.text,o.attr("up-tooltip")),p=f.option(r.position,o.attr("up-position"),s.position),u=f.option(r.animation,f.castedAttr(o,"up-animation"),s.openAnimation),i=up.motion.animateOptions(r,o,{duration:s.openDuration,easing:s.openEasing}),c.phase="opening",c.$anchor=o,a({text:h,html:l}),c.position=p,e(),up.animate(c.$tooltip,u,i).then(function(){return c.phase="opened"})},i=function(t){return o.asap(function(){return u(t)})},u=function(t){var e;return l()?(t=f.options(t,{animation:s.closeAnimation}),e=up.motion.animateOptions(t,{duration:s.closeDuration,easing:s.closeEasing}),f.assign(t,e),c.phase="closing",up.destroy(c.$tooltip,t).then(function(){return c.phase="closed",c.$tooltip=null,c.$anchor=null})):Promise.resolve()},l=function(){return"opening"===c.phase||"opened"===c.phase},up.compiler("[up-tooltip], [up-tooltip-html]",function(t){return t.on("mouseenter",function(){return n(t)}),t.on("mouseleave",function(){return i()})}),up.on("click up:action:consumed",function(){return i()}),up.on("up:framework:reset",p),up.bus.onEscape(function(){return i()}),{config:s,attach:n,isOpen:l,close:i}}(jQuery)}.call(this),function(){var t=[].slice;up.feedback=function(e){var n,r,o,i,u,s,a,l,p,c,f,h,d,m,v,g,y,b,w,k;return g=up.util,s=g.config({currentClasses:["up-current"],navs:["[up-nav]"]}),f=void 0,a=void 0,h=function(){return s.reset(),f=void 0,a=void 0},n="up-active",o="a, [up-href]",p=function(){return s.navs.join(",")},c=function(t){if(g.isPresent(t))return g.normalizeUrl(t,{stripTrailingSlash:!0})},r="up-normalized-urls",d=function(t){var e;return(e=t.data(r))||(e=u(t),t.data(r,e)),e},u=function(t){var e,n,r,o,i,u,s,a,l,p;if(l=[],up.link.isSafe(t))for(u=["href","up-href","up-alias"],n=0,o=u.length;n<o;n++)if(e=u[n],p=g.presentAttr(t,e))for(s=p.split(/\s+/),r=0,i=s.length;r<i;r++)a=s[r],"#"!==a&&(a=c(a),l.push(a));return l},i=function(){var t;return t=[up.browser.url(),up.modal.url(),up.modal.coveredUrl(),up.popup.url(),up.popup.coveredUrl()],new up.UrlSet(t,{normalizeUrl:c})},b=function(){if(f=a,a=i(),!a.isEqual(f))return y(e("body"))},y=function(t){var e,n;return e=g.selectInSubtree(t,p()),n=g.selectInSubtree(e,o),w(n)},k=function(t){var e;return t.closest(p()).length?(e=g.selectInSubtree(t,o),w(e)):y(t)},w=function(t){return a||(a=i()),g.each(t,function(t){var n,r,o,i,u,l,p,c,f,h,m,v;if(n=e(t),v=d(n),r=t.classList,a.matchesAny(v)){for(c=s.currentClasses,h=[],o=0,l=c.length;o<l;o++)u=c[o],h.push(r.add(u));return h}for(f=s.currentClasses,m=[],i=0,p=f.length;i<p;i++)u=f[i],m.push(r.remove(u));return m})},l=function(t){var n;return n=e(t),n.is(o)&&(n=g.presence(n.parent(o))||n),n},m=function(){var e,r,o,i,u,s;if(o=1<=arguments.length?t.call(arguments,0):[],i=o.shift(),r=o.pop(),u=g.options(o[0]),e=l(i),u.preload||e.addClass(n),r)return s=r(),g.isPromise(s)?g.always(s,function(){return v(e)}):up.warn("Expected block to return a promise, but got %o",s),s},v=function(t){var e;return e=l(t),e.removeClass(n)},up.on("up:history:pushed up:history:replaced up:history:restored up:modal:opened up:modal:closed up:popup:opened up:popup:closed",function(){return b()}),up.on("up:fragment:inserted",function(t,e){return k(e)}),up.on("up:framework:reset",h),{config:s,start:m,stop:v}}(jQuery),up.renamedModule("navigation","feedback")}.call(this),function(){up.radio=function(){var t,e,n,r;return r=up.util,t=r.config({hungry:["[up-hungry]"],hungryTransition:null}),n=function(){return t.reset()},e=function(){return t.hungry.join(",")},up.on("up:framework:reset",n),{config:t,hungrySelector:e}}(jQuery)}.call(this),function(){up.rails=function(t){var e,n;return n=up.util,e=function(){return!!t.rails},n.each(["method","confirm"],function(t){var r,o;return r="data-"+t,o="up-"+t,up.macro("["+r+"]",function(t){var i;if(e()&&up.link.isFollowable(t))return i={},i[o]=t.attr(r),n.setMissingAttrs(t,i),t.removeAttr(r)})})}(jQuery)}.call(this),function(){up.boot()}.call(this);